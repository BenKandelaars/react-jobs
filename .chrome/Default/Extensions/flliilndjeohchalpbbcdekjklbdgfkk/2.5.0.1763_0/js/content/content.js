/*!
 * Â© 2016 Avira Operations GmbH & Co. KG. All rights reserved.
 * No part of this extension may be reproduced, stored or transmitted in any
 * form, for any reason or by any means, without the prior permission in writing
 * from the copyright owner. The text, layout, and designs presented are
 * protected by the copyright laws of the United States and international
 * treaties.
 */
!function e(t,n,r){function i(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r={getManifest:function(){return chrome.runtime.getManifest()},getURL:function(e){return chrome.extension.getURL(e)}};t.exports=r},{}],2:[function(e,t,n){t.exports={barTransitionDelay:200,default_language:"en-US",languages:["en-US","de-DE","es-ES","fr-FR","it-IT","pt-BR","ru-RU"],language_fallbacks:{de:"de-DE",es:"es-ES",fr:"fr-FR",it:"it-IT",ru:"ru-RU",pt:"pt-BR"},auc:{server:"https://v2.auc.avira.com/api",api_key:"2216cc6964aa79fa09205dd4b08fb808",product:"avira-browser-safety",product_version:"0.0.0",lang:"en-US",locale:"en-US",sync:!0},avira_dnt:{update_url:"https://download.avira.com/update/donottrack/rules.json",update_cycle:86400},aims:{server:"http://icm.avira.com/",productid:199,update_cycle:21600},ao:{api_url:"https://offers.avira.com/aviraoffers/api/v2",api_client:"abs",api_key:"DhwrO06Igpulf142CT6NcUDrKlh4OG4L",coupons_domain:"offers.avira.com",dnt_disable_timeout:72e5},adguard:{filtersMetadataUrl:"https://download.avira.com/update/adguard/filters.json",filterRulesUrl:"https://download.avira.com/update/adguard/filters/{filter_id}.txt"},mixpanel:{token:"ab6cb09897028fe5aa4058a03e5e29fa",active_cycle:21600},update_bridge:{api_url:"https://dispatch.avira-update.com/",product_id:199},beta:{gc_id:"biegckbcmgljgabmpjcpmkbheikknfch"},nightly:{gc_id:"enhedicmkidpahjffkbmhgiacbodpcbo"},scout:{ids:["ljjneligifenjndbcopdndmddfcjpcng","dahchcnonmiipdiaeddddiebekhbcbkf"],managedExtensions:{privacyBadger:"pkehgijcmpdhfbdbbnkijodmdjhbjlgp",httpsEverywhere:"gcbommkclmclpchllfjekcdonpmejbdp"}},chrome:{id:"flliilndjeohchalpbbcdekjklbdgfkk"},nophish:{whitelist_url:"https://download.avira.com/update/nophishwhitelist/common/int/NophishWhitelist.json"},safesearch:{base_url:"https://search.avira.net/#/",take_me_away_url:"https://search.avira.net/#/?source=ABS-TMA",ids:{firefox:["safesearch@avira.com","safesearchplus@avira.com","safesearchplus2@avira.com"],chrome:["eglgfnfolcgijipffhlhbbnefdcbjbml","ffalmjohbhdhlkajphgkhloccibhmoog","plgjnighgeebiaalpbkmcbbiihegpbbp","ldmiahjidflgnbiadknkmaimfpjkelng","khjilmcjipkeokomeekfnhkpbnhmgaje","ipmkfpcnmccejididiaagpgchgjfajgp"],webext:{cookie_url:"https://search.avira.net",cookie_name:"safesearch-plus2-installed"}},crxInstallUrl:"https://chrome.google.com/webstore/detail/avira-safesearch-plus/ipmkfpcnmccejididiaagpgchgjfajgp",xpiInstallUrl:"https://package.avira.com/package/safesearch/firefox/safesearch-plus2.xpi"},supportedSettings:{offers:!1,dnt_header:!0,inAppTracking:!1,adguard:!0,adguard_social_media:!0,adguard_useful_ads:!0,extension_scan:!0},surveys:{ongoing:"QRVZF6M",uninstall:"QJZ5T3G"},uninstallUrl:"https://www.avira.com/en/extension-uninstall"}},{}],3:[function(e,t,n){/*! Ciuvo Addon SDK 2.0.6 | (c) 2011-2016 Ciuvo GmbH
Includes Sizzle & Almond | (c) 2008, 2014 jQuery Foundation, Inc. | jquery.org/license
 */
!function(e,n){e.ciuvoSDK=function(){var e,n,r;return function(t){function i(e,t){return _.call(e,t)}function o(e,t){var n,r,i,o,a,u,s,c,l,f,p,h,d=t&&t.split("/"),v=m.map,g=v&&v["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,m.nodeIdCompat&&x.test(e[a])&&(e[a]=e[a].replace(x,"")),"."===e[0].charAt(0)&&d&&(h=d.slice(0,d.length-1),e=h.concat(e)),l=0;l<e.length;l++)if("."===(p=e[l]))e.splice(l,1),l-=1;else if(".."===p){if(0===l||1===l&&".."===e[2]||".."===e[l-1])continue;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((d||g)&&v){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),d)for(f=d.length;f>0;f-=1)if((i=v[d.slice(0,f).join("/")])&&(i=i[r])){o=i,u=l;break}if(o)break;!s&&g&&g[r]&&(s=g[r],c=l)}!o&&s&&(o=s,u=c),o&&(n.splice(0,u,o),e=n.join("/"))}return e}function a(e,n){return function(){var r=w.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),h.apply(t,r.concat([e,n]))}}function u(e){return function(t){return o(t,e)}}function s(e){return function(t){g[e]=t}}function c(e){if(i(y,e)){var n=y[e];delete y[e],b[e]=!0,p.apply(t,n)}if(!i(g,e)&&!i(b,e))throw new Error("No "+e);return g[e]}function l(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function f(e){return function(){return m&&m.config&&m.config[e]||{}}}var p,h,d,v,g={},y={},m={},b={},_=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;d=function(e,t){var n,r=l(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=c(i)),i?e=n&&n.normalize?n.normalize(e,u(t)):o(e,t):(e=o(e,t),r=l(e),i=r[0],e=r[1],i&&(n=c(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},v={require:function(e){return a(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:f(e)}}},p=function(e,n,r,o){var u,l,f,p,h,m,_=[],w=typeof r;if(o=o||e,"undefined"===w||"function"===w){for(n=!n.length&&r.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if(p=d(n[h],o),"require"===(l=p.f))_[h]=v.require(e);else if("exports"===l)_[h]=v.exports(e),m=!0;else if("module"===l)u=_[h]=v.module(e);else if(i(g,l)||i(y,l)||i(b,l))_[h]=c(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,a(o,!0),s(l),{}),_[h]=g[l]}f=r?r.apply(g[e],_):void 0,e&&(u&&u.exports!==t&&u.exports!==g[e]?g[e]=u.exports:f===t&&m||(g[e]=f))}else e&&(g[e]=r)},e=n=h=function(e,n,r,i,o){if("string"==typeof e)return v[e]?v[e](n):c(d(e,n).f);if(!e.splice){if(m=e,m.deps&&h(m.deps,m.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?p(t,e,n,r):setTimeout(function(){p(t,e,n,r)},4),h},h.config=function(e){return h(e)},e._defined=g,r=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(g,e)||i(y,e)||(y[e]=[e,t,n])},r.amd={jQuery:!0}}(),r("constants",{version:"2.0.6",base_url:"https://api.ciuvo.com/api/",media_host_url:"https://ciuvo.com/",get_url:function(e,t){switch(e){case"api":return t.base_url||this.base_url;case"storage":return(t.media_host_url||this.media_host_url)+"ciuvo/globalstorage";case"bundle":return(t.media_host_url||this.media_host_url)+"ciuvo/templates/";case"media":return t.media_host_url||this.media_host_url;case"analyze":return(t.base_url||this.base_url)+"analyze";case"voucher":return(t.base_url||this.base_url)+"voucher";case"whitelist":return(t.base_url||this.base_url)+"whitelist";default:throw"invalid url specifier"}}}),r("cslparser",[],function(){"use strict";function e(t,n,r,i){this.message=t,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function t(t){function n(e){var n,r,i=Mi[e];if(i)return i;for(n=e-1;!Mi[n];)n--;for(i=Mi[n],i={line:i.line,column:i.column,seenCR:i.seenCR};e>n;)r=t.charAt(n),"\n"===r?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return Mi[e]=i,i}function r(e,t){var r=n(e),i=n(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function i(e){zi>Fi||(Fi>zi&&(zi=Fi,Ui=[]),Ui.push(e))}function o(){var e,t,n,r;return e=Fi,t=b(),t!==Ke?(n=Be(),n!==Ke?(r=b(),r!==Ke?(Bi=e,t=Xe(n),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function a(){var e;return t.length>Fi?(e=t.charAt(Fi),Fi++):(e=Ke,0===Hi&&i(Ye)),e}function u(){var e;return Hi++,Qe.test(t.charAt(Fi))?(e=t.charAt(Fi),Fi++):(e=Ke,0===Hi&&i(et)),e===Ke&&(e=v()),Hi--,e===Ke&&(Ke,0===Hi&&i(Ze)),e}function s(){var e;return tt.test(t.charAt(Fi))?(e=t.charAt(Fi),Fi++):(e=Ke,0===Hi&&i(nt)),e}function c(){var e;return Hi++,10===t.charCodeAt(Fi)?(e=it,Fi++):(e=Ke,0===Hi&&i(ot)),e===Ke&&(t.substr(Fi,2)===at?(e=at,Fi+=2):(e=Ke,0===Hi&&i(ut)),e===Ke&&(13===t.charCodeAt(Fi)?(e=st,Fi++):(e=Ke,0===Hi&&i(ct)),e===Ke&&(8232===t.charCodeAt(Fi)?(e=lt,Fi++):(e=Ke,0===Hi&&i(ft)),e===Ke&&(8233===t.charCodeAt(Fi)?(e=pt,Fi++):(e=Ke,0===Hi&&i(ht)))))),Hi--,e===Ke&&(Ke,0===Hi&&i(rt)),e}function l(){var e;return Hi++,e=f(),e===Ke&&(e=h()),Hi--,e===Ke&&(Ke,0===Hi&&i(dt)),e}function f(){var e,n,r,o,u,s;if(e=Fi,t.substr(Fi,2)===vt?(n=vt,Fi+=2):(n=Ke,0===Hi&&i(gt)),n!==Ke){for(r=[],o=Fi,u=Fi,Hi++,t.substr(Fi,2)===yt?(s=yt,Fi+=2):(s=Ke,0===Hi&&i(mt)),Hi--,s===Ke?u=void 0:(Fi=u,u=Ke),u!==Ke?(s=a(),s!==Ke?(u=[u,s],o=u):(Fi=o,o=Ke)):(Fi=o,o=Ke);o!==Ke;)r.push(o),o=Fi,u=Fi,Hi++,t.substr(Fi,2)===yt?(s=yt,Fi+=2):(s=Ke,0===Hi&&i(mt)),Hi--,s===Ke?u=void 0:(Fi=u,u=Ke),u!==Ke?(s=a(),s!==Ke?(u=[u,s],o=u):(Fi=o,o=Ke)):(Fi=o,o=Ke);r!==Ke?(t.substr(Fi,2)===yt?(o=yt,Fi+=2):(o=Ke,0===Hi&&i(mt)),o!==Ke?(n=[n,r,o],e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function p(){var e,n,r,o,u,c;if(e=Fi,t.substr(Fi,2)===vt?(n=vt,Fi+=2):(n=Ke,0===Hi&&i(gt)),n!==Ke){for(r=[],o=Fi,u=Fi,Hi++,t.substr(Fi,2)===yt?(c=yt,Fi+=2):(c=Ke,0===Hi&&i(mt)),c===Ke&&(c=s()),Hi--,c===Ke?u=void 0:(Fi=u,u=Ke),u!==Ke?(c=a(),c!==Ke?(u=[u,c],o=u):(Fi=o,o=Ke)):(Fi=o,o=Ke);o!==Ke;)r.push(o),o=Fi,u=Fi,Hi++,t.substr(Fi,2)===yt?(c=yt,Fi+=2):(c=Ke,0===Hi&&i(mt)),c===Ke&&(c=s()),Hi--,c===Ke?u=void 0:(Fi=u,u=Ke),u!==Ke?(c=a(),c!==Ke?(u=[u,c],o=u):(Fi=o,o=Ke)):(Fi=o,o=Ke);r!==Ke?(t.substr(Fi,2)===yt?(o=yt,Fi+=2):(o=Ke,0===Hi&&i(mt)),o!==Ke?(n=[n,r,o],e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function h(){var e,n,r,o,u,c;if(e=Fi,t.substr(Fi,2)===bt?(n=bt,Fi+=2):(n=Ke,0===Hi&&i(_t)),n!==Ke){for(r=[],o=Fi,u=Fi,Hi++,c=s(),Hi--,c===Ke?u=void 0:(Fi=u,u=Ke),u!==Ke?(c=a(),c!==Ke?(u=[u,c],o=u):(Fi=o,o=Ke)):(Fi=o,o=Ke);o!==Ke;)r.push(o),o=Fi,u=Fi,Hi++,c=s(),Hi--,c===Ke?u=void 0:(Fi=u,u=Ke),u!==Ke?(c=a(),c!==Ke?(u=[u,c],o=u):(Fi=o,o=Ke)):(Fi=o,o=Ke);r!==Ke?(n=[n,r],e=n):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function d(){var e;return 36===t.charCodeAt(Fi)?(e=wt,Fi++):(e=Ke,0===Hi&&i(xt)),e}function v(){var e;return Ct.test(t.charAt(Fi))?(e=t.charAt(Fi),Fi++):(e=Ke,0===Hi&&i(St)),e}function g(){var e,n,r,o;return e=Fi,n=m(),n!==Ke?(r=c(),r!==Ke?(n=[n,r],e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Fi,n=m(),n!==Ke?(r=Fi,Hi++,125===t.charCodeAt(Fi)?(o=At,Fi++):(o=Ke,0===Hi&&i(Et)),Hi--,o!==Ke?(Fi=r,r=void 0):r=Ke,r!==Ke?(n=[n,r],e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Fi,n=b(),n!==Ke?(r=y(),r!==Ke?(n=[n,r],e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke))),e}function y(){var e,n;return e=Fi,Hi++,t.length>Fi?(n=t.charAt(Fi),Fi++):(n=Ke,0===Hi&&i(Ye)),Hi--,n===Ke?e=void 0:(Fi=e,e=Ke),e}function m(){var e,t;for(e=[],(t=u())===Ke&&(t=p())===Ke&&(t=h());t!==Ke;)e.push(t),(t=u())===Ke&&(t=p())===Ke&&(t=h());return e}function b(){var e,t;for(e=[],(t=u())===Ke&&(t=c())===Ke&&(t=l());t!==Ke;)e.push(t),(t=u())===Ke&&(t=c())===Ke&&(t=l());return e}function _(){var e;return Hi++,e=w(),e===Ke&&(e=j())===Ke&&(e=T())===Ke&&(e=P())===Ke&&(e=A())===Ke&&(e=O()),Hi--,e===Ke&&(Ke,0===Hi&&i(kt)),e}function w(){var e,t,n,r,o,a,u,s,c;return Hi++,e=Fi,t=C(),t!==Ke?(n=b(),n!==Ke?(r=D(),r===Ke&&(r=null),r!==Ke?(o=b(),o!==Ke?(a=x(),a!==Ke?(u=b(),u!==Ke?(s=X(),s!==Ke?(c=g(),c!==Ke?(Bi=e,t=jt(t,r,a,s),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),Hi--,e===Ke&&(t=Ke,0===Hi&&i(Ot)),e}function x(){var e,n,r,o;return Hi++,e=Fi,61===t.charCodeAt(Fi)?(n=Pt,Fi++):(n=Ke,0===Hi&&i(Rt)),n!==Ke?(r=Fi,Hi++,61===t.charCodeAt(Fi)?(o=Pt,Fi++):(o=Ke,0===Hi&&i(Rt)),Hi--,o===Ke?r=void 0:(Fi=r,r=Ke),r!==Ke?(Bi=e,n=It(),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(t.substr(Fi,2)===Nt?(e=Nt,Fi+=2):(e=Ke,0===Hi&&i(Lt)),e===Ke&&(t.substr(Fi,2)===qt?(e=qt,Fi+=2):(e=Ke,0===Hi&&i(Dt)),e===Ke&&(t.substr(Fi,2)===Ft?(e=Ft,Fi+=2):(e=Ke,0===Hi&&i(Bt)),e===Ke&&(t.substr(Fi,2)===Mt?(e=Mt,Fi+=2):(e=Ke,0===Hi&&i(zt)),e===Ke&&(t.substr(Fi,2)===Ut?(e=Ut,Fi+=2):(e=Ke,0===Hi&&i(Ht))))))),Hi--,e===Ke&&(n=Ke,0===Hi&&i(Tt)),e}function C(){var e,n,r,o;if(e=Fi,(n=d())!==Ke){if(r=[],$t.test(t.charAt(Fi))?(o=t.charAt(Fi),Fi++):(o=Ke,0===Hi&&i(Wt)),o!==Ke)for(;o!==Ke;)r.push(o),$t.test(t.charAt(Fi))?(o=t.charAt(Fi),Fi++):(o=Ke,0===Hi&&i(Wt));else r=Ke;r!==Ke?(Bi=e,n=Vt(n,r),e=n):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function S(){var e,n,r,o,a,u,s,c;if(e=Fi,(n=C())!==Ke){for(r=[],o=Fi,a=b(),a!==Ke?(44===t.charCodeAt(Fi)?(u=Kt,Fi++):(u=Ke,0===Hi&&i(Jt)),u!==Ke?(s=b(),s!==Ke?(c=C(),c!==Ke?(a=[a,u,s,c],o=a):(Fi=o,o=Ke)):(Fi=o,o=Ke)):(Fi=o,o=Ke)):(Fi=o,o=Ke);o!==Ke;)r.push(o),o=Fi,a=b(),a!==Ke?(44===t.charCodeAt(Fi)?(u=Kt,Fi++):(u=Ke,0===Hi&&i(Jt)),u!==Ke?(s=b(),s!==Ke?(c=C(),c!==Ke?(a=[a,u,s,c],o=a):(Fi=o,o=Ke)):(Fi=o,o=Ke)):(Fi=o,o=Ke)):(Fi=o,o=Ke);r!==Ke?(Bi=e,n=Gt(n,r),e=n):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function A(){var e,t;return e=Fi,t=L(),t!==Ke&&(Bi=e,t=Xt(t)),e=t}function E(){var e,n,r,o,a,u;return Hi++,e=Fi,123===t.charCodeAt(Fi)?(n=Zt,Fi++):(n=Ke,0===Hi&&i(Qt)),n!==Ke?(r=b(),r!==Ke?(o=Fi,a=k(),a!==Ke?(u=b(),u!==Ke?(a=[a,u],o=a):(Fi=o,o=Ke)):(Fi=o,o=Ke),o===Ke&&(o=null),o!==Ke?(125===t.charCodeAt(Fi)?(a=At,Fi++):(a=Ke,0===Hi&&i(Et)),a!==Ke?(Bi=e,n=en(o),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),Hi--,e===Ke&&(n=Ke,0===Hi&&i(Yt)),e}function k(){var e,t,n,r,i,o;if(e=Fi,(t=_())!==Ke){for(n=[],r=Fi,i=b(),i!==Ke?(o=_(),o!==Ke?(i=[i,o],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke);r!==Ke;)n.push(r),r=Fi,i=b(),i!==Ke?(o=_(),o!==Ke?(i=[i,o],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke);n!==Ke?(Bi=e,t=tn(t,n),e=t):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function O(){var e,n;return Hi++,e=Fi,59===t.charCodeAt(Fi)?(n=rn,Fi++):(n=Ke,0===Hi&&i(on)),n!==Ke&&(Bi=e,n=an()),e=n,Hi--,e===Ke&&(n=Ke,0===Hi&&i(nn)),e}function j(){var e,n,r,o,a,u,s,c,l,f,p,h,d,v;return Hi++,e=Fi,n=Re(),n!==Ke?(r=b(),r!==Ke?(40===t.charCodeAt(Fi)?(o=sn,Fi++):(o=Ke,0===Hi&&i(cn)),o!==Ke?(a=b(),a!==Ke?(u=C(),u!==Ke?(s=b(),s!==Ke?(c=Ie(),c!==Ke?(l=b(),l!==Ke?(f=I(),f===Ke&&(f=C()),f!==Ke?(p=b(),p!==Ke?(41===t.charCodeAt(Fi)?(h=ln,Fi++):(h=Ke,0===Hi&&i(fn)),h!==Ke?(d=b(),d!==Ke?(v=_(),v===Ke&&(v=E()),v!==Ke?(Bi=e,n=pn(u,f,v),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),Hi--,e===Ke&&(n=Ke,0===Hi&&i(un)),e}function T(){var e,n,r,o,a,u,s,c,l,f,p,h,d,v,g;return Hi++,e=Fi,n=Ne(),n!==Ke?(r=b(),r!==Ke?(40===t.charCodeAt(Fi)?(o=sn,Fi++):(o=Ke,0===Hi&&i(cn)),o!==Ke?(a=b(),a!==Ke?(u=X(),u!==Ke?(s=b(),s!==Ke?(41===t.charCodeAt(Fi)?(c=ln,Fi++):(c=Ke,0===Hi&&i(fn)),c!==Ke?(l=b(),l!==Ke?(f=_(),f===Ke&&(f=E()),f!==Ke?(p=b(),p!==Ke?(h=Fi,d=Te(),d!==Ke?(v=b(),v!==Ke?(g=_(),g===Ke&&(g=E()),g!==Ke?(d=[d,v,g],h=d):(Fi=h,h=Ke)):(Fi=h,h=Ke)):(Fi=h,h=Ke),h===Ke&&(h=null),h!==Ke?(Bi=e,n=dn(u,f,h),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),Hi--,e===Ke&&(n=Ke,0===Hi&&i(hn)),e}function P(){var e,t,n,r,o;return Hi++,e=Fi,t=Fe(),t!==Ke?(n=b(),n!==Ke?(r=S(),r!==Ke?(o=g(),o!==Ke?(Bi=e,t=gn(r),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),Hi--,e===Ke&&(t=Ke,0===Hi&&i(vn)),e}function R(){var e,t,n,r,o;return Hi++,e=Fi,t=qe(),t!==Ke?(n=b(),n!==Ke?(r=S(),r!==Ke?(o=g(),o!==Ke?(Bi=e,t=mn(r),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),Hi--,e===Ke&&(t=Ke,0===Hi&&i(yn)),e}function I(){var e,n,r,o,a,u;return e=L(),e===Ke&&(e=C())===Ke&&(e=Y())===Ke&&(e=Fi,40===t.charCodeAt(Fi)?(n=sn,Fi++):(n=Ke,0===Hi&&i(cn)),n!==Ke?(r=b(),r!==Ke?(o=X(),o!==Ke?(a=b(),a!==Ke?(41===t.charCodeAt(Fi)?(u=ln,Fi++):(u=Ke,0===Hi&&i(fn)),u!==Ke?(Bi=e,n=bn(o),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)),e}function N(){var e,n,r;if(e=Fi,n=[],_n.test(t.charAt(Fi))?(r=t.charAt(Fi),Fi++):(r=Ke,0===Hi&&i(wn)),r!==Ke)for(;r!==Ke;)n.push(r),_n.test(t.charAt(Fi))?(r=t.charAt(Fi),Fi++):(r=Ke,0===Hi&&i(wn));else n=Ke;return n!==Ke&&(Bi=e,n=xn(n)),e=n}function L(){var e,n,r,o,a,u,s,c;return e=Fi,n=N(),n!==Ke?(r=b(),r!==Ke?(40===t.charCodeAt(Fi)?(o=sn,Fi++):(o=Ke,0===Hi&&i(cn)),o!==Ke?(a=b(),a!==Ke?(u=q(),u===Ke&&(u=null),u!==Ke?(s=b(),s!==Ke?(41===t.charCodeAt(Fi)?(c=ln,Fi++):(c=Ke,0===Hi&&i(fn)),c!==Ke?(Bi=e,n=Cn(n,u),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function q(){var e,n,r,o,a,u,s,c;if(e=Fi,(n=I())!==Ke){for(r=[],o=Fi,a=b(),a!==Ke?(44===t.charCodeAt(Fi)?(u=Kt,Fi++):(u=Ke,0===Hi&&i(Jt)),u!==Ke?(s=b(),s!==Ke?(c=I(),c!==Ke?(a=[a,u,s,c],o=a):(Fi=o,o=Ke)):(Fi=o,o=Ke)):(Fi=o,o=Ke)):(Fi=o,o=Ke);o!==Ke;)r.push(o),o=Fi,a=b(),a!==Ke?(44===t.charCodeAt(Fi)?(u=Kt,Fi++):(u=Ke,0===Hi&&i(Jt)),u!==Ke?(s=b(),s!==Ke?(c=I(),c!==Ke?(a=[a,u,s,c],o=a):(Fi=o,o=Ke)):(Fi=o,o=Ke)):(Fi=o,o=Ke)):(Fi=o,o=Ke);r!==Ke?(Bi=e,n=Sn(n,r),e=n):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function D(){var e,n,r,o,a,u;return e=Fi,91===t.charCodeAt(Fi)?(n=An,Fi++):(n=Ke,0===Hi&&i(En)),n!==Ke?(r=b(),r!==Ke?(o=X(),o!==Ke?(a=b(),a!==Ke?(93===t.charCodeAt(Fi)?(u=kn,Fi++):(u=Ke,0===Hi&&i(On)),u!==Ke?(Bi=e,n=jn(o),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function F(){var e,t,n,r;return e=Fi,t=I(),t!==Ke?(n=b(),n!==Ke?(r=D(),r!==Ke?(Bi=e,t=Tn(t,r),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function B(){var e,t,n,r;return e=F(),e===Ke&&(e=I())===Ke&&(e=Fi,t=M(),t!==Ke?(n=b(),n!==Ke?(r=I(),r!==Ke?(Bi=e,t=Pn(t,r),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)),e}function M(){var e;return 43===t.charCodeAt(Fi)?(e=Rn,Fi++):(e=Ke,0===Hi&&i(In)),e===Ke&&(45===t.charCodeAt(Fi)?(e=Nn,Fi++):(e=Ke,0===Hi&&i(Ln)),e===Ke&&(126===t.charCodeAt(Fi)?(e=qn,Fi++):(e=Ke,0===Hi&&i(Dn)),e===Ke&&(t.substr(Fi,3)===Fn?(e=Fn,Fi+=3):(e=Ke,0===Hi&&i(Bn))))),e}function z(){var e,t,n,r,i,o,a,u;if(e=Fi,(t=B())!==Ke){for(n=[],r=Fi,i=b(),i!==Ke?(o=U(),o!==Ke?(a=b(),a!==Ke?(u=B(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);r!==Ke;)n.push(r),r=Fi,i=b(),i!==Ke?(o=U(),o!==Ke?(a=b(),a!==Ke?(u=B(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);n!==Ke?(Bi=e,t=Mn(t,n),e=t):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function U(){var e,n,r,o;return e=Fi,42===t.charCodeAt(Fi)?(n=zn,Fi++):(n=Ke,0===Hi&&i(Un)),n===Ke&&(47===t.charCodeAt(Fi)?(n=Hn,Fi++):(n=Ke,0===Hi&&i($n)),n===Ke&&(37===t.charCodeAt(Fi)?(n=Wn,Fi++):(n=Ke,0===Hi&&i(Vn)))),n!==Ke?(r=Fi,Hi++,61===t.charCodeAt(Fi)?(o=Pt,Fi++):(o=Ke,0===Hi&&i(Rt)),Hi--,o===Ke?r=void 0:(Fi=r,r=Ke),r!==Ke?(Bi=e,n=Kn(n),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function H(){var e,t,n,r,i,o,a,u;if(e=Fi,(t=z())!==Ke){for(n=[],r=Fi,i=b(),i!==Ke?(o=$(),o!==Ke?(a=b(),a!==Ke?(u=z(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);r!==Ke;)n.push(r),r=Fi,i=b(),i!==Ke?(o=$(),o!==Ke?(a=b(),a!==Ke?(u=z(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);n!==Ke?(Bi=e,t=Jn(t,n),e=t):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function $(){var e,n,r,o;return e=Fi,43===t.charCodeAt(Fi)?(n=Rn,Fi++):(n=Ke,0===Hi&&i(In)),n!==Ke?(r=Fi,Hi++,43===t.charCodeAt(Fi)?(o=Rn,Fi++):(o=Ke,0===Hi&&i(In)),o===Ke&&(61===t.charCodeAt(Fi)?(o=Pt,Fi++):(o=Ke,0===Hi&&i(Rt))),Hi--,o===Ke?r=void 0:(Fi=r,r=Ke),r!==Ke?(Bi=e,n=Gn(),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Fi,45===t.charCodeAt(Fi)?(n=Nn,Fi++):(n=Ke,0===Hi&&i(Ln)),n!==Ke?(r=Fi,Hi++,45===t.charCodeAt(Fi)?(o=Nn,Fi++):(o=Ke,0===Hi&&i(Ln)),o===Ke&&(61===t.charCodeAt(Fi)?(o=Pt,Fi++):(o=Ke,0===Hi&&i(Rt))),Hi--,o===Ke?r=void 0:(Fi=r,r=Ke),r!==Ke?(Bi=e,n=Xn(),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)),e}function W(){var e,t,n,r,i,o,a,u;if(e=Fi,(t=H())!==Ke){for(n=[],r=Fi,i=b(),i!==Ke?(o=V(),o!==Ke?(a=b(),a!==Ke?(u=H(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);r!==Ke;)n.push(r),r=Fi,i=b(),i!==Ke?(o=V(),o!==Ke?(a=b(),a!==Ke?(u=H(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);n!==Ke?(Bi=e,t=Yn(t,n),e=t):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function V(){var e;return t.substr(Fi,2)===Zn?(e=Zn,Fi+=2):(e=Ke,0===Hi&&i(Qn)),e===Ke&&(t.substr(Fi,2)===er?(e=er,Fi+=2):(e=Ke,0===Hi&&i(tr)),e===Ke&&(60===t.charCodeAt(Fi)?(e=nr,Fi++):(e=Ke,0===Hi&&i(rr)),e===Ke&&(62===t.charCodeAt(Fi)?(e=ir,Fi++):(e=Ke,0===Hi&&i(or))))),e}function K(){var e,t,n,r,i,o,a,u;if(e=Fi,(t=W())!==Ke){for(n=[],r=Fi,i=b(),i!==Ke?(o=J(),o!==Ke?(a=b(),a!==Ke?(u=W(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);r!==Ke;)n.push(r),r=Fi,i=b(),i!==Ke?(o=J(),o!==Ke?(a=b(),a!==Ke?(u=W(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);n!==Ke?(Bi=e,t=ar(t,n),e=t):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function J(){var e,n;return e=Fi,t.substr(Fi,2)===ur?(n=ur,Fi+=2):(n=Ke,0===Hi&&i(sr)),n!==Ke&&(Bi=e,n=cr()),e=n}function G(){var e,t,n,r,i,o,a,u;if(e=Fi,(t=K())!==Ke){for(n=[],r=Fi,i=b(),i!==Ke?(o=Oe(),o!==Ke?(a=b(),a!==Ke?(u=K(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);r!==Ke;)n.push(r),r=Fi,i=b(),i!==Ke?(o=Oe(),o!==Ke?(a=b(),a!==Ke?(u=K(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);n!==Ke?(Bi=e,t=lr(t,n),e=t):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function X(){var e,t,n,r,i,o,a,u;if(e=Fi,(t=G())!==Ke){for(n=[],r=Fi,i=b(),i!==Ke?(o=je(),o!==Ke?(a=b(),a!==Ke?(u=G(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);r!==Ke;)n.push(r),r=Fi,i=b(),i!==Ke?(o=je(),o!==Ke?(a=b(),a!==Ke?(u=G(),u!==Ke?(i=[i,o,a,u],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke)):(Fi=r,r=Ke);n!==Ke?(Bi=e,t=fr(t,n),e=t):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function Y(){var e;return e=ee(),e===Ke&&(e=te())===Ke&&(e=ne())===Ke&&(e=he())===Ke&&(e=Q())===Ke&&(e=Z()),e}function Z(){var e,n,r,o,a,u;return e=Fi,91===t.charCodeAt(Fi)?(n=An,Fi++):(n=Ke,0===Hi&&i(En)),n!==Ke?(r=b(),r!==Ke?(o=q(),o===Ke&&(o=null),o!==Ke?(a=b(),a!==Ke?(93===t.charCodeAt(Fi)?(u=kn,Fi++):(u=Ke,0===Hi&&i(On)),u!==Ke?(Bi=e,n=pr(o),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function Q(){var e,n,r,o;return Hi++,e=Fi,47===t.charCodeAt(Fi)?(n=Hn,Fi++):(n=Ke,0===Hi&&i($n)),n!==Ke?(r=ge(),r!==Ke?(47===t.charCodeAt(Fi)?(o=Hn,Fi++):(o=Ke,0===Hi&&i($n)),o!==Ke?(Bi=e,n=dr(r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),Hi--,e===Ke&&(n=Ke,0===Hi&&i(hr)),e}function ee(){var e,t;return e=Fi,t=Le(),t!==Ke&&(Bi=e,t=vr()),e=t}function te(){var e,t;return e=Fi,t=De(),t!==Ke&&(Bi=e,t=gr()),e=t,e===Ke&&(e=Fi,t=Pe(),t!==Ke&&(Bi=e,t=yr()),e=t),e}function ne(){var e,t,n,r;return Hi++,e=Fi,t=fe(),t===Ke&&(t=re()),t!==Ke?(n=Fi,Hi++,r=d(),Hi--,r===Ke?n=void 0:(Fi=n,n=Ke),n!==Ke?(Bi=e,t=br(t),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke),Hi--,e===Ke&&(t=Ke,0===Hi&&i(mr)),e}function re(){var e,n,r,o,a;return e=Fi,n=ie(),n!==Ke?(46===t.charCodeAt(Fi)?(r=_r,Fi++):(r=Ke,0===Hi&&i(wr)),r!==Ke?(o=oe(),o===Ke&&(o=null),o!==Ke?(a=se(),a===Ke&&(a=null),a!==Ke?(Bi=e,n=xr(n,o,a),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Fi,46===t.charCodeAt(Fi)?(n=_r,Fi++):(n=Ke,0===Hi&&i(wr)),n!==Ke?(r=oe(),r!==Ke?(o=se(),o===Ke&&(o=null),o!==Ke?(Bi=e,n=Cr(r,o),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Fi,n=ie(),n!==Ke?(r=se(),r===Ke&&(r=null),r!==Ke?(Bi=e,n=Sr(n,r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke))),e}function ie(){var e,n,r;return 48===t.charCodeAt(Fi)?(e=Ar,Fi++):(e=Ke,0===Hi&&i(Er)),e===Ke&&(e=Fi,n=ue(),n!==Ke?(r=oe(),r===Ke&&(r=null),r!==Ke?(Bi=e,n=kr(n,r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)),e}function oe(){var e,t,n;if(e=Fi,t=[],(n=ae())!==Ke)for(;n!==Ke;)t.push(n),n=ae();else t=Ke;return t!==Ke&&(Bi=e,t=Or(t)),e=t}function ae(){var e;return jr.test(t.charAt(Fi))?(e=t.charAt(Fi),Fi++):(e=Ke,0===Hi&&i(Tr)),e}function ue(){var e;return Pr.test(t.charAt(Fi))?(e=t.charAt(Fi),Fi++):(e=Ke,0===Hi&&i(Rr)),e}function se(){var e,t,n;return e=Fi,t=ce(),t!==Ke?(n=le(),n!==Ke?(Bi=e,t=Ir(t,n),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function ce(){var e;return Nr.test(t.charAt(Fi))?(e=t.charAt(Fi),Fi++):(e=Ke,0===Hi&&i(Lr)),e}function le(){var e,n,r;return e=Fi,qr.test(t.charAt(Fi))?(n=t.charAt(Fi),Fi++):(n=Ke,0===Hi&&i(Dr)),n===Ke&&(n=null),n!==Ke?(r=oe(),r!==Ke?(Bi=e,n=Fr(n,r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function fe(){var e,n,r,o,a;if(e=Fi,48===t.charCodeAt(Fi)?(n=Ar,Fi++):(n=Ke,0===Hi&&i(Er)),n!==Ke)if(Br.test(t.charAt(Fi))?(r=t.charAt(Fi),Fi++):(r=Ke,0===Hi&&i(Mr)),r!==Ke){if(o=[],(a=pe())!==Ke)for(;a!==Ke;)o.push(a),a=pe();else o=Ke;o!==Ke?(Bi=e,n=zr(o),e=n):(Fi=e,e=Ke)}else Fi=e,e=Ke;else Fi=e,e=Ke;return e}function pe(){var e;return Ur.test(t.charAt(Fi))?(e=t.charAt(Fi),Fi++):(e=Ke,0===Hi&&i(Hr)),e}function he(){var e,n,r,o,a;return Hi++,e=Fi,n=Fi,34===t.charCodeAt(Fi)?(r=Wr,Fi++):(r=Ke,0===Hi&&i(Vr)),r!==Ke?(o=de(),o===Ke&&(o=null),o!==Ke?(34===t.charCodeAt(Fi)?(a=Wr,Fi++):(a=Ke,0===Hi&&i(Vr)),a!==Ke?(r=[r,o,a],n=r):(Fi=n,n=Ke)):(Fi=n,n=Ke)):(Fi=n,n=Ke),n===Ke&&(n=Fi,39===t.charCodeAt(Fi)?(r=Kr,Fi++):(r=Ke,0===Hi&&i(Jr)),r!==Ke?(o=ve(),o===Ke&&(o=null),o!==Ke?(39===t.charCodeAt(Fi)?(a=Kr,Fi++):(a=Ke,0===Hi&&i(Jr)),a!==Ke?(r=[r,o,a],n=r):(Fi=n,n=Ke)):(Fi=n,n=Ke)):(Fi=n,n=Ke)),n!==Ke&&(Bi=e,n=Gr(n)),e=n,Hi--,e===Ke&&(n=Ke,0===Hi&&i($r)),e}function de(){var e,t,n;if(e=Fi,t=[],(n=ye())!==Ke)for(;n!==Ke;)t.push(n),n=ye();else t=Ke;return t!==Ke&&(Bi=e,t=Xr(t)),e=t}function ve(){var e,t,n;if(e=Fi,t=[],(n=me())!==Ke)for(;n!==Ke;)t.push(n),n=me();else t=Ke;return t!==Ke&&(Bi=e,t=Xr(t)),e=t}function ge(){var e,t,n;if(e=Fi,t=[],(n=be())!==Ke)for(;n!==Ke;)t.push(n),n=be();else t=Ke;return t!==Ke&&(Bi=e,t=Xr(t)),e=t}function ye(){var e,n,r;return e=Fi,n=Fi,Hi++,34===t.charCodeAt(Fi)?(r=Wr,Fi++):(r=Ke,0===Hi&&i(Vr)),r===Ke&&(92===t.charCodeAt(Fi)?(r=Yr,Fi++):(r=Ke,0===Hi&&i(Zr)),r===Ke&&(r=s())),Hi--,r===Ke?n=void 0:(Fi=n,n=Ke),n!==Ke?(r=a(),r!==Ke?(Bi=e,n=Qr(r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Fi,92===t.charCodeAt(Fi)?(n=Yr,Fi++):(n=Ke,0===Hi&&i(Zr)),n!==Ke?(r=we(),r!==Ke?(Bi=e,n=ei(r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=_e())),e}function me(){var e,n,r;return e=Fi,n=Fi,Hi++,39===t.charCodeAt(Fi)?(r=Kr,Fi++):(r=Ke,0===Hi&&i(Jr)),r===Ke&&(92===t.charCodeAt(Fi)?(r=Yr,Fi++):(r=Ke,0===Hi&&i(Zr)),r===Ke&&(r=s())),Hi--,r===Ke?n=void 0:(Fi=n,n=Ke),n!==Ke?(r=a(),r!==Ke?(Bi=e,n=Qr(r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Fi,92===t.charCodeAt(Fi)?(n=Yr,Fi++):(n=Ke,0===Hi&&i(Zr)),n!==Ke?(r=we(),r!==Ke?(Bi=e,n=ei(r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=_e())),e}function be(){var e,n,r;return e=Fi,92===t.charCodeAt(Fi)?(n=Yr,Fi++):(n=Ke,0===Hi&&i(Zr)),n!==Ke?(47===t.charCodeAt(Fi)?(r=Hn,Fi++):(r=Ke,0===Hi&&i($n)),r!==Ke?(Bi=e,n=ti(r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Fi,n=Fi,Hi++,47===t.charCodeAt(Fi)?(r=Hn,Fi++):(r=Ke,0===Hi&&i($n)),r===Ke&&(r=s()),Hi--,r===Ke?n=void 0:(Fi=n,n=Ke),n!==Ke?(r=a(),r!==Ke?(Bi=e,n=Qr(r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=_e())),e}function _e(){var e,n,r;return e=Fi,92===t.charCodeAt(Fi)?(n=Yr,Fi++):(n=Ke,0===Hi&&i(Zr)),n!==Ke?(r=c(),r!==Ke?(Bi=e,n=ni(r),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function we(){var e,n,r,o;return e=xe(),e===Ke&&(e=Fi,48===t.charCodeAt(Fi)?(n=Ar,Fi++):(n=Ke,0===Hi&&i(Er)),n!==Ke?(r=Fi,Hi++,o=ae(),Hi--,o===Ke?r=void 0:(Fi=r,r=Ke),r!==Ke?(Bi=e,n=ri(),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke),e===Ke&&(e=Ee())===Ke&&(e=ke())),e}function xe(){var e;return e=Ce(),e===Ke&&(e=Se()),e}function Ce(){var e,n;return e=Fi,ii.test(t.charAt(Fi))?(n=t.charAt(Fi),Fi++):(n=Ke,0===Hi&&i(oi)),n!==Ke&&(Bi=e,n=ai(n)),e=n}function Se(){var e,t,n;return e=Fi,t=Fi,Hi++,n=Ae(),Hi--,n===Ke?t=void 0:(Fi=t,t=Ke),t===Ke&&(t=s()),t!==Ke?(n=a(),n!==Ke?(Bi=e,t=ui(n),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function Ae(){var e;return e=Ce(),e===Ke&&(e=ae())===Ke&&(120===t.charCodeAt(Fi)?(e=si,Fi++):(e=Ke,0===Hi&&i(ci)),e===Ke&&(117===t.charCodeAt(Fi)?(e=li,Fi++):(e=Ke,0===Hi&&i(fi)))),e}function Ee(){var e,n,r,o;return e=Fi,120===t.charCodeAt(Fi)?(n=si,Fi++):(n=Ke,0===Hi&&i(ci)),n!==Ke?(r=pe(),r!==Ke?(o=pe(),o!==Ke?(Bi=e,n=pi(r,o),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function ke(){var e,n,r,o,a,u;return e=Fi,117===t.charCodeAt(Fi)?(n=li,Fi++):(n=Ke,0===Hi&&i(fi)),n!==Ke?(r=pe(),r!==Ke?(o=pe(),o!==Ke?(a=pe(),a!==Ke?(u=pe(),u!==Ke?(Bi=e,n=hi(r,o,a,u),e=n):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke),e}function Oe(){var e;return t.substr(Fi,3)===di?(e=di,Fi+=3):(e=Ke,0===Hi&&i(vi)),e}function je(){var e;return t.substr(Fi,2)===gi?(e=gi,Fi+=2):(e=Ke,0===Hi&&i(yi)),e}function J(){var e;return t.substr(Fi,2)===ur?(e=ur,Fi+=2):(e=Ke,0===Hi&&i(sr)),e}function Te(){var e;return t.substr(Fi,4)===mi?(e=mi,Fi+=4):(e=Ke,0===Hi&&i(bi)),e}function Pe(){var e;return t.substr(Fi,5)===_i?(e=_i,Fi+=5):(e=Ke,0===Hi&&i(wi)),e}function Re(){var e;return t.substr(Fi,3)===xi?(e=xi,Fi+=3):(e=Ke,0===Hi&&i(Ci)),e}function Ie(){var e;return t.substr(Fi,2)===Si?(e=Si,Fi+=2):(e=Ke,0===Hi&&i(Ai)),e}function Ne(){var e;return t.substr(Fi,2)===Ei?(e=Ei,Fi+=2):(e=Ke,0===Hi&&i(ki)),e}function Le(){var e;return t.substr(Fi,4)===Oi?(e=Oi,Fi+=4):(e=Ke,0===Hi&&i(ji)),e}function qe(){var e;return t.substr(Fi,6)===Ti?(e=Ti,Fi+=6):(e=Ke,0===Hi&&i(Pi)),e}function De(){var e;return t.substr(Fi,4)===Ri?(e=Ri,Fi+=4):(e=Ke,0===Hi&&i(Ii)),e}function Fe(){var e;return t.substr(Fi,7)===Ni?(e=Ni,Fi+=7):(e=Ke,0===Hi&&i(Li)),e}function Be(){var e,t;return e=Fi,t=Me(),t===Ke&&(t=null),t!==Ke&&(Bi=e,t=qi(t)),e=t}function Me(){var e,t,n,r,i,o;if(e=Fi,(t=_())!==Ke){for(n=[],r=Fi,i=b(),i!==Ke?(o=_(),o!==Ke?(i=[i,o],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke);r!==Ke;)n.push(r),r=Fi,i=b(),i!==Ke?(o=_(),o!==Ke?(i=[i,o],r=i):(Fi=r,r=Ke)):(Fi=r,r=Ke);n!==Ke?(r=b(),r!==Ke?(i=R(),i!==Ke?(Bi=e,t=Di(t,n,i),e=t):(Fi=e,e=Ke)):(Fi=e,e=Ke)):(Fi=e,e=Ke)}else Fi=e,e=Ke;return e}function ze(e,t,n){switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":return e%n;case"<":return n>e;case">":return e>n;case"<=":return n>=e;case">=":return e>=n;case"==":return e==n;case"!=":return e!=n;default:return}}function Ue(e,t){switch(e){case"+":return+t;case"-":return-t;case"~":return~t;case"not":return!t;default:return}}function He(e,t){if(e instanceof Array&&t instanceof Array){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}return e==t}function $e(e,t){return void 0===t||void 0===e?void 0:(e=parseInt(e),isNaN(e)?void 0:(0>e&&t.hasOwnProperty("length")&&0>(e=t.length+e)&&(e=0),e))}var We,Ve=arguments.length>1?arguments[1]:{},Ke={},Je={start:o},Ge=o,Xe=function(e){return e},Ye={type:"any",description:"any character"},Ze={type:"other",description:"whitespace"},Qe=/^[\t\x0B\f \xA0\uFEFF]/,et={type:"class",value:"[\\t\\v\\f \\u00A0\\uFEFF]",description:"[\\t\\v\\f \\u00A0\\uFEFF]"},tt=/^[\n\r\u2028\u2029]/,nt={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},rt={type:"other",description:"end of line"},it="\n",ot={type:"literal",value:"\n",description:'"\\n"'},at="\r\n",ut={type:"literal",value:"\r\n",description:'"\\r\\n"'},st="\r",ct={type:"literal",value:"\r",description:'"\\r"'},lt="\u2028",ft={type:"literal",value:"\u2028",description:'"\\u2028"'},pt="\u2029",ht={type:"literal",value:"\u2029",description:'"\\u2029"'},dt={type:"other",description:"comment"},vt="/*",gt={type:"literal",value:"/*",description:'"/*"'},yt="*/",mt={type:"literal",value:"*/",description:'"*/"'},bt="//",_t={type:"literal",value:"//",description:'"//"'},wt="$",xt={type:"literal",value:"$",description:'"$"'},Ct=/^[ \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000]/,St={type:"class",value:"[\\u0020\\u00A0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000]",description:"[\\u0020\\u00A0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000]"},At="}",Et={type:"literal",value:"}",description:'"}"'},kt={type:"other",description:"Statement"},Ot={type:"other",description:"Assignment Statement"},jt=function(e,t,n,r){return{type:"AssignmentStatement",variable:e,accessor:t,operator:n,value:r,interpret:function(e){var n=this.value.interpret(e);if("="!=this.operator){var r=this.variable.interpret(e);n=ze(r,this.operator.substring(0,1),n)}if(null!==this.accessor){var i=t.interpret(e),r=this.variable.interpret(e);i=$e(i,r),e.variables[this.variable.identifier][i]=n}else e.variables[this.variable.identifier]=n},accept:function(e){e.visitAssignmentStatement(this)}}},Tt={type:"other",description:"Assignment Operator"},Pt="=",Rt={type:"literal",value:"=",description:'"="'},It=function(){return"="},Nt="*=",Lt={type:"literal",value:"*=",description:'"*="'},qt="/=",Dt={type:"literal",value:"/=",description:'"/="'},Ft="%=",Bt={type:"literal",value:"%=",description:'"%="'},Mt="+=",zt={type:"literal",value:"+=",description:'"+="'},Ut="-=",Ht={type:"literal",value:"-=",description:'"-="'},$t=/^[a-zA-Z0-9_]/,Wt={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},Vt=function(e,t){return{type:"VariableExpression",identifier:e+t.join(""),interpret:function(e){if(!(this.identifier in e.variables))throw new e.InterpreterError("Variable "+this.identifier+" not defined.");return e.variables[this.identifier]},accept:function(e){return e.visitVariableExpression(this)}}},Kt=",",Jt={type:"literal",value:",",description:'","'},Gt=function(e,t){for(var n=[e],r=0;r<t.length;r++)n.push(t[r][3]);return n},Xt=function(e){return{type:"StatementExpression",expr:e,interpret:function(e){this.expr.interpret(e)},accept:function(e){return e.visitStatementExpression(this)}}},Yt={type:"other",description:"Block"},Zt="{",Qt={type:"literal",value:"{",description:'"{"'},en=function(e){return{type:"Block",statements:null!==e?e[0]:[],interpret:function(e){for(var t=this.statements.length-1;t>=0;t--)e.stmt_stack.push(this.statements[t])},accept:function(e){e.visitBlock(this)}}},tn=function(e,t){for(var n=[e],r=0;r<t.length;r++)n.push(t[r][1]);return n},nn={type:"other",description:"No-op Statement"},rn=";",on={type:"literal",value:";",description:'";"'},an=function(){return{type:"EmptyStatement",interpret:function(){},accept:function(e){e.visitEmptyStatement(this)}}},un={type:"other",description:"For-In Loop"},sn="(",cn={type:"literal",value:"(",description:'"("'},ln=")",fn={type:"literal",value:")",description:'")"'},pn=function(e,t,n){return{type:"ForInStatement",iterator:e,collection:t,statement:n,interpret:function(e){function t(){this.type="LoopClosure"}var n=this.collection.interpret(e),r=this.statement;if(!n.hasOwnProperty("length"))throw new e.InterpreterError("ForIn Loop only on Arrays or Strings.");var i=0,o=this.iterator.identifier;t.prototype.interpret=function(e){i<n.length&&(e.variables[o]=n[i],i+=1,e.stmt_stack.push(this),e.stmt_stack.push(r))},e.stmt_stack.push(new t)},accept:function(e){e.visitForInStatement(this)}}},hn={type:"other",description:"If Statement"},dn=function(e,t,n){return{type:"IfStatement",condition:e,if_statement:t,else_statement:n,interpret:function(e){this.condition.interpret(e)?e.stmt_stack.push(this.if_statement):null!==this.else_statement&&e.stmt_stack.push(this.else_statement[2])},accept:function(e){e.visitIfStatement(this)}}},vn={type:"other",description:"Require Statement"},gn=function(e){return{type:"RequireStatement",vars:e,interpret:function(e){for(var t=0;t<this.vars.length;t++){var n=this.vars[t].identifier;if(!this.vars[t].interpret(e)){
for(e.error_callback.call(this,new e.RequireError("Variable "+n+" required."));e.stmt_stack.length>0;)e.stmt_stack.pop();e.ret=void 0;break}}},accept:function(e){e.visitRequireStatement(this)}}},yn={type:"other",description:"Return Statement"},mn=function(e){return{type:"ReturnStatement",vars:e,interpret:function(e){for(var t=!1,n={},r=this.vars.length-1;r>=0;)n[this.vars[r].identifier]=!0,r-=1;void 0===e.ret&&(e.ret={});for(var r=this.vars.length-1;r>=0;){var i=this.vars[r],o=i.interpret(e),a=i.identifier.substring(1);a in e.ret&&He(e.ret[a],o)||(t=!0,e.ret[a]=o),r-=1}var u=0;for(var s in e.ret)u+=1;var c=0;for(var s in n)c+=1;c!=u&&(t=!0),t&&e.return_callback.call(e.return_callback,e.ret)},accept:function(e){e.visitReturnStatement(this)}}},bn=function(e){return e},_n=/^[a-zA-Z_]/,wn={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},xn=function(e){return e.join("")},Cn=function(e,t){return{type:"CallExpression",func_name:e,arg_exprs:null!==t?t:[],interpret:function(e){for(var t=[],n=0;n<this.arg_exprs.length;n++){var r=this.arg_exprs[n].interpret(e);t.push(r)}var i=e.function_table[this.func_name];return i?i.apply(e,t):void 0},accept:function(e){return e.visitCallExpression(this)}}},Sn=function(e,t){for(var n=[e],r=0;r<t.length;r++)n.push(t[r][3]);return n},An="[",En={type:"literal",value:"[",description:'"["'},kn="]",On={type:"literal",value:"]",description:'"]"'},jn=function(e){return e},Tn=function(e,t){return{type:"AccessorExpression",value:e,index:t,interpret:function(e){var t=this.value.interpret(e),n=this.index.interpret(e);return n=$e(n,t),t[n]},accept:function(e){return e.visitAccessorExpression(this)}}},Pn=function(e,t){return{type:"UnaryExpression",operator:e,expression:t,interpret:function(e){var t=this.expression.interpret(e);return Ue(this.operator,t)},accept:function(e){return e.visitUnaryExpression(this)}}},Rn="+",In={type:"literal",value:"+",description:'"+"'},Nn="-",Ln={type:"literal",value:"-",description:'"-"'},qn="~",Dn={type:"literal",value:"~",description:'"~"'},Fn="not",Bn={type:"literal",value:"not",description:'"not"'},Mn=function(e,t){for(var n=e,r=0;r<t.length;r++)n={type:"MultiplicativeExpression",operator:t[r][1],left:n,right:t[r][3],interpret:function(e){var t=this.left.interpret(e),n=this.right.interpret(e);return ze(t,this.operator,n)},accept:function(e){return e.visitMultiplicativeExpression(this)}};return n},zn="*",Un={type:"literal",value:"*",description:'"*"'},Hn="/",$n={type:"literal",value:"/",description:'"/"'},Wn="%",Vn={type:"literal",value:"%",description:'"%"'},Kn=function(e){return e},Jn=function(e,t){for(var n=e,r=0;r<t.length;r++)n={type:"AdditiveExpression",operator:t[r][1],left:n,right:t[r][3],interpret:function(e){var t=this.left.interpret(e),n=this.right.interpret(e);return ze(t,this.operator,n)},accept:function(e){return e.visitAdditiveExpression(this)}};return n},Gn=function(){return"+"},Xn=function(){return"-"},Yn=function(e,t){for(var n=e,r=0;r<t.length;r++)n={type:"RelationalExpression",operator:t[r][1],left:n,right:t[r][3],interpret:function(e){var t=this.left.interpret(e),n=this.right.interpret(e);return ze(t,this.operator,n)},accept:function(e){return e.visitRelationalExpression(this)}};return n},Zn="<=",Qn={type:"literal",value:"<=",description:'"<="'},er=">=",tr={type:"literal",value:">=",description:'">="'},nr="<",rr={type:"literal",value:"<",description:'"<"'},ir=">",or={type:"literal",value:">",description:'">"'},ar=function(e,t){for(var n=e,r=0;r<t.length;r++)n={type:"EqualsExpression",operator:t[r][1],left:n,right:t[r][3],interpret:function(e){return this.left.interpret(e)==this.right.interpret(e)},accept:function(e){return e.visitEqualsExpression(this)}};return n},ur="==",sr={type:"literal",value:"==",description:'"=="'},cr=function(){return"=="},lr=function(e,t){for(var n=e,r=0;r<t.length;r++)n={type:"LogicalANDExpression",operator:t[r][1],left:n,right:t[r][3],interpret:function(e){return!!this.left.interpret(e)&&this.right.interpret(e)},accept:function(e){return e.visitLogicalANDExpression(this)}};return n},fr=function(e,t){for(var n=e,r=0;r<t.length;r++)n={type:"LogicalORExpression",operator:t[r][1],left:n,right:t[r][3],interpret:function(e){var t=this.left.interpret(e);return t||this.right.interpret(e)},accept:function(e){return e.visitLogicalORExpression(this)}};return n},pr=function(e){return{type:"ArrayLiteral",elements:null!==e?e:[],interpret:function(e){for(var t=new Array,n=0;n<this.elements.length;n++)t.push(this.elements[n].interpret(e));return t},accept:function(e){return e.visitArrayLiteral(this)}}},hr={type:"other",description:"regex"},dr=function(e){return{type:"RegexLiteral",value:e,interpret:function(){return this.value},accept:function(e){return e.visitRegularExpressionLiteral(this)}}},vr=function(){return{type:"NullLiteral",value:null,interpret:function(){return this.value},accept:function(e){return e.visitNullLiteral(this)}}},gr=function(){return{type:"BooleanLiteral",value:!0,interpret:function(){return this.value},accept:function(e){return e.visitBooleanLiteral(this)}}},yr=function(){return{type:"BooleanLiteral",value:!1,interpret:function(){return this.value},accept:function(e){return e.visitBooleanLiteral(this)}}},mr={type:"other",description:"number"},br=function(e){return{type:"NumericLiteral",value:e,interpret:function(){return this.value},accept:function(e){return e.visitNumericLiteral(this)}}},_r=".",wr={type:"literal",value:".",description:'"."'},xr=function(e,t,n){return parseFloat(e+"."+t+n)},Cr=function(e,t){return parseFloat("."+e+t)},Sr=function(e,t){return parseFloat(e+t)},Ar="0",Er={type:"literal",value:"0",description:'"0"'},kr=function(e,t){return e+t},Or=function(e){return e.join("")},jr=/^[0-9]/,Tr={type:"class",value:"[0-9]",description:"[0-9]"},Pr=/^[1-9]/,Rr={type:"class",value:"[1-9]",description:"[1-9]"},Ir=function(e,t){return e+t},Nr=/^[eE]/,Lr={type:"class",value:"[eE]",description:"[eE]"},qr=/^[\-+]/,Dr={type:"class",value:"[-+]",description:"[-+]"},Fr=function(e,t){return e+t},Br=/^[xX]/,Mr={type:"class",value:"[xX]",description:"[xX]"},zr=function(){return parseInt("0x"+dgits.join(""))},Ur=/^[0-9a-fA-F]/,Hr={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},$r={type:"other",description:"string"},Wr='"',Vr={type:"literal",value:'"',description:'"\\""'},Kr="'",Jr={type:"literal",value:"'",description:'"\'"'},Gr=function(e){return{type:"StringLiteral",value:e[1]||"",quote:e[0],interpret:function(){return this.value},accept:function(e){return e.visitStringLiteral(this)}}},Xr=function(e){return e.join("")},Yr="\\",Zr={type:"literal",value:"\\",description:'"\\\\"'},Qr=function(e){return e},ei=function(e){return e},ti=function(e){return e},ni=function(e){return e},ri=function(){return"\0"},ii=/^['"\\bfnrtv]/,oi={type:"class",value:"['\"\\\\bfnrtv]",description:"['\"\\\\bfnrtv]"},ai=function(e){return e.replace("b","\b").replace("f","\f").replace("n","\n").replace("r","\r").replace("t","\t").replace("v","\v")},ui=function(e){return e},si="x",ci={type:"literal",value:"x",description:'"x"'},li="u",fi={type:"literal",value:"u",description:'"u"'},pi=function(e,t){return String.fromCharCode(parseInt("0x"+e+t))},hi=function(e,t,n,r){return String.fromCharCode(parseInt("0x"+e+t+n+r))},di="and",vi={type:"literal",value:"and",description:'"and"'},gi="or",yi={type:"literal",value:"or",description:'"or"'},mi="else",bi={type:"literal",value:"else",description:'"else"'},_i="false",wi={type:"literal",value:"false",description:'"false"'},xi="for",Ci={type:"literal",value:"for",description:'"for"'},Si="in",Ai={type:"literal",value:"in",description:'"in"'},Ei="if",ki={type:"literal",value:"if",description:'"if"'},Oi="null",ji={type:"literal",value:"null",description:'"null"'},Ti="return",Pi={type:"literal",value:"return",description:'"return"'},Ri="true",Ii={type:"literal",value:"true",description:'"true"'},Ni="require",Li={type:"literal",value:"require",description:'"require"'},qi=function(e){return{type:"Program",statements:null!==e?e:[],interpret:function(e){for(var t=(this.statements,this.statements.length-1);t>=0;t--)e.stmt_stack.push(this.statements[t]);e.interpretNext()},accept:function(e){e.visitProgram(this)}}},Di=function(e,t,n){for(var r=[e],i=0;i<t.length;i++)r.push(t[i][1]);return r.push(n),r},Fi=0,Bi=0,Mi=[{line:1,column:1,seenCR:!1}],zi=0,Ui=[],Hi=0;if("startRule"in Ve){if(!(Ve.startRule in Je))throw new Error("Can't start parsing from rule \""+Ve.startRule+'".');Ge=Je[Ve.startRule]}if(this.VERSION="0.2.2",(We=Ge())!==Ke&&Fi===t.length)return We;throw We!==Ke&&Fi<t.length&&i({type:"end",description:"end of input"}),function(t,n,r,i){return null!==n&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==t?t:function(e,t){var n,r,i,o=new Array(e.length);for(i=0;i<e.length;i++)o[i]=e[i].description;return n=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],r=t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input","Expected "+n+" but "+r+" found."}(n,r),n,r,i)}(null,Ui,zi<t.length?t.charAt(zi):null,zi<t.length?r(zi,zi+1):r(zi,zi))}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:t}}),r("request",[],function(){var e="XDR",t=function(t,n,r){if(this.method=t,this.url=n,this.requestTimer=void 0,this.type="XHR",this.rq=new window.XMLHttpRequest,"withCredentials"in this.rq||void 0!==window.XDomainRequest&&(this.type=e,this.rq=new window.XDomainRequest,this.rq.readyState=1),"object"==typeof r){var i=-1===this.url.indexOf("?")?"?":"&";for(var o in r)void 0!==r[o]&&(this.url+=i+o+"="+encodeURIComponent(r[o]),i="&")}this.rq.open(t,this.url,!0),this.type===e&&(this.rq.onprogress=function(){},this.rq.ontimeout=function(){},this.rq.onerror=function(){},this.rq.onload=function(){},this.rq.timeout=0)};return t.prototype={wrapCallback:function(e){var t=this;return function(n){t.clearTimeout(),e(t.rq,n)}},onReadyStateChange:function(t){this.type===e?(this.rq.readyState=3,this.rq.status=200,this.rq.onload=this.wrapCallback(t)):this.rq.onreadystatechange=this.wrapCallback(t)},onLoad:function(t){this.type===e&&(this.rq.readyState=3,this.rq.status=200),this.rq.onload=this.wrapCallback(t)},onError:function(t){this.type===e&&(this.rq.readyState=3,this.rq.status=500),this.rq.onerror=this.wrapCallback(t)},setHeader:function(e,t){"setRequestHeader"in this.rq&&this.rq.setRequestHeader(e,t)},setTimeout:function(e,t){this.timeout=e,this.timeoutCallback=t},abort:function(){this.rq&&this.rq.abort()},setupTimeoutTimer:function(e){if("number"==typeof e){var t=this;window.setTimeout(function(){t.rq.abort(),"function"==typeof t.timeoutCallback&&t.timeoutCallback()},e)}},clearTimeout:function(){window.clearTimeout(this.requestTimer),this.requestTimer=void 0},send:function(t){var n=this;this.setupTimeoutTimer(this.timeout),this.type===e?window.setTimeout(function(){n.rq.send(t)},200):this.rq.send(t)}},{AjaxRequest:t}}),function(e){function n(e,t,n,r){var i,o,a,u,s,c,f,h,d,v;if((t?t.ownerDocument||t:M)!==R&&P(t),t=t||R,n=n||[],u=t.nodeType,"string"!=typeof e||!e||1!==u&&9!==u&&11!==u)return n;if(!r&&N){if(11!==u&&(i=ye.exec(e)))if(a=i[1]){if(9===u){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!L||!L.test(e))){if(h=f=B,d=t,v=1!==u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(c=A(e),(f=t.getAttribute("id"))?h=f.replace(be,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",s=c.length;s--;)c[s]=h+p(c[s]);d=me.test(e)&&l(t.parentNode)||t,v=c.join(",")}if(v)try{return Z.apply(n,d.querySelectorAll(v)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return k(e.replace(ue,"$1"),t,n,r)}function i(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function o(e){return e[B]=!0,e}function a(e){var t=R.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function u(e,t){for(var n=e.split("|"),r=e.length;r--;)x.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function c(e){return o(function(t){return t=+t,o(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=U++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var u,s,c=[z,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(s=t[B]||(t[B]={}),(u=s[r])&&u[0]===z&&u[1]===o)return c[2]=u[2];if(s[r]=c,c[2]=e(t,n,a))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function v(e,t,r){for(var i=0,o=t.length;o>i;i++)n(e,t[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],u=0,s=e.length,c=null!=t;s>u;u++)(o=e[u])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(u));return a}function y(e,t,n,r,i,a){return r&&!r[B]&&(r=y(r)),i&&!i[B]&&(i=y(i,a)),o(function(o,a,u,s){var c,l,f,p=[],h=[],d=a.length,y=o||v(t||"*",u.nodeType?[u]:u,[]),m=!e||!o&&t?y:g(y,p,e,u,s),b=n?i||(o?e:d||r)?[]:a:m;if(n&&n(m,b,u,s),r)for(c=g(b,h),r(c,[],u,s),l=c.length;l--;)(f=c[l])&&(b[h[l]]=!(m[h[l]]=f));if(o){if(i||e){if(i){for(c=[],l=b.length;l--;)(f=b[l])&&c.push(m[l]=f);i(null,b=[],c,s)}for(l=b.length;l--;)(f=b[l])&&(c=i?ee(o,f):p[l])>-1&&(o[c]=!(a[c]=f))}}else b=g(b===a?b.splice(d,b.length):b),i?i(null,a,b,s):Z.apply(a,b)})}function m(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],u=o?1:0,s=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var i=!o&&(r||n!==O)||((t=n).nodeType?s(e,n,r):c(e,n,r));return t=null,i}];i>u;u++)if(n=x.relative[e[u].type])l=[h(d(l),n)];else{if(n=x.filter[e[u].type].apply(null,e[u].matches),n[B]){for(r=++u;i>r&&!x.relative[e[r].type];r++);return y(u>1&&d(l),u>1&&p(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(ue,"$1"),n,r>u&&m(e.slice(u,r)),i>r&&m(e=e.slice(r)),i>r&&p(e))}l.push(n)}return d(l)}function b(e,t){var r=t.length>0,i=e.length>0,a=function(o,a,u,s,c){var l,f,p,h=0,d="0",v=o&&[],y=[],m=O,b=o||i&&x.find.TAG("*",c),_=z+=null==m?1:Math.random()||.1,w=b.length;for(c&&(O=a!==R&&a);d!==w&&null!=(l=b[d]);d++){if(i&&l){for(f=0;p=e[f++];)if(p(l,a,u)){s.push(l);break}c&&(z=_)}r&&((l=!p&&l)&&h--,o&&v.push(l))}if(h+=d,r&&d!==h){for(f=0;p=t[f++];)p(v,y,a,u);if(o){if(h>0)for(;d--;)v[d]||y[d]||(y[d]=X.call(s));y=g(y)}Z.apply(s,y),c&&!o&&y.length>0&&h+t.length>1&&n.uniqueSort(s)}return c&&(z=_,O=m),v};return r?o(a):a}var _,w,x,C,S,A,E,k,O,j,T,P,R,I,N,L,q,D,F,B="sizzle"+1*new Date,M=e.document,z=0,U=0,H=i(),$=i(),W=i(),V=function(e,t){return e===t&&(T=!0),0},K=1<<31,J={}.hasOwnProperty,G=[],X=G.pop,Y=G.push,Z=G.push,Q=G.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),se=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,be=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){P()};try{Z.apply(G=Q.call(M.childNodes),M.childNodes),G[M.childNodes.length].nodeType}catch(e){Z={apply:G.length?function(e,t){Y.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=n.support={},S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=n.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:M;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,I=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),N=!S(r),w.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=a(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(r.getElementsByClassName),w.getById=a(function(e){return I.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),w.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(_e,we);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_e,we);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=w.getElementsByClassName&&function(e,t){return N?t.getElementsByClassName(e):void 0},q=[],L=[],(w.qsa=ge.test(r.querySelectorAll))&&(a(function(e){I.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),a(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=ge.test(D=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&a(function(e){w.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),q.push("!=",oe)}),L=L.length&&new RegExp(L.join("|")),q=q.length&&new RegExp(q.join("|")),t=ge.test(I.compareDocumentPosition),F=t||ge.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return T=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===M&&F(M,e)?-1:t===r||t.ownerDocument===M&&F(M,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return T=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],c=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:j?ee(j,e)-ee(j,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?s(u[i],c[i]):u[i]===M?-1:c[i]===M?1:0},r):R},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&P(e),t=t.replace(le,"='$1']"),!(!w.matchesSelector||!N||q&&q.test(t)||L&&L.test(t)))try{var r=D.call(e,t);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return n(t,R,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==R&&P(e),F(e,t)},n.attr=function(e,t){(e.ownerDocument||e)!==R&&P(e);var n=x.attrHandle[t.toLowerCase()],r=n&&J.call(x.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:w.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(T=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(V),T){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},C=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},x=n.selectors={cacheLength:50,createPseudo:o,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,we),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=A(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,s){var c,l,f,p,h,d,v=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=u&&t.nodeName.toLowerCase(),m=!s&&!u;if(g){if(o){for(;v;){for(f=t;f=f[v];)if(u?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&m){for(l=g[B]||(g[B]={}),c=l[e]||[],h=c[0]===z&&c[1],p=c[0]===z&&c[2],f=h&&g.childNodes[h];f=++h&&f&&f[v]||(p=h=0)||d.pop();)if(1===f.nodeType&&++p&&f===t){l[e]=[z,h,p];break}}else if(m&&(c=(t[B]||(t[B]={}))[e])&&c[0]===z)p=c[1];else for(;(f=++h&&f&&f[v]||(p=h=0)||d.pop())&&((u?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++p||(m&&((f[B]||(f[B]={}))[e]=[z,p]),f!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var r,i=x.pseudos[e]||x.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[B]?i(t):i.length>1?(r=[e,e,"",t],x.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=ee(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:o(function(e){var t=[],n=[],r=E(e.replace(ue,"$1"));return r[B]?o(function(e,t,n,i){for(var o,a=r(e,null,i,[]),u=e.length;u--;)(o=a[u])&&(e[u]=!(t[u]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:o(function(e){return function(t){return n(e,t).length>0}}),contains:o(function(e){return e=e.replace(_e,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:o(function(e){return pe.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(_e,we).toLowerCase(),function(t){var n;do{if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(_);f.prototype=x.filters=x.pseudos,x.setFilters=new f,A=n.tokenize=function(e,t){var r,i,o,a,u,s,c,l=$[e+" "];if(l)return t?0:l.slice(0);for(u=e,s=[],c=x.preFilter;u;){(!r||(i=se.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),s.push(o=[])),r=!1,(i=ce.exec(u))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),u=u.slice(r.length));for(a in x.filter)!(i=he[a].exec(u))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),u=u.slice(r.length));if(!r)break}return t?u.length:u?n.error(e):$(e,s).slice(0)},E=n.compile=function(e,t){var n,r=[],i=[],o=W[e+" "];if(!o){for(t||(t=A(e)),n=t.length;n--;)o=m(t[n]),o[B]?r.push(o):i.push(o);o=W(e,b(i,r)),o.selector=e}return o},k=n.select=function(e,t,n,r){var i,o,a,u,s,c="function"==typeof e&&e,f=!r&&A(e=c.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&N&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(_e,we),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[u=a.type]);)if((s=x.find[u])&&(r=s(a.matches[0].replace(_e,we),me.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&p(o)))return Z.apply(n,r),n;break}}return(c||E(e,f))(r,t,!N,n,me.test(e)&&l(t.parentNode)||t),n},w.sortStable=B.split("").sort(V).join("")===B,w.detectDuplicates=!!T,P(),w.sortDetached=a(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||u("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||u("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||u(te,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),"function"==typeof r&&r.amd?r("jquery",[],function(){return n}):void 0!==t&&t.exports?t.exports=n:e.Sizzle=n}(window),r("interpreter",["cslparser","request","jquery"],function(e,t,n){function r(e,t){var n;if(null===e||null===t)return e===t;if(void 0===e||void 0===t)return e===t;for(n in t)if("_"!==n[0]&&!e.hasOwnProperty(n))return!1;for(n in e)if(e.hasOwnProperty(n)&&"_"!==n[0]){if(!t.hasOwnProperty(n))return!1;if(e[n])switch(typeof e[n]){case"object":if(!r(e[n],t[n]))return!1;break;default:if(e[n]!==t[n])return!1}else if(t[n])return!1}return!0}function i(e,t){var n,r,i=t;this.pause=function(){window.clearTimeout(n),i-=new Date-r},this.resume=function(){r=new Date,n=window.setTimeout(function(){e()},i)},this.cancel=function(){window.clearTimeout(n)},this.resume()}var o=function(e){this.message=e,this.name="TypeError"},a=function(e){this.message=e,this.name="ValueError"},u=function(e){this.message=e,this.name="RequireError"};u.prototype.getMessage=function(){return this.name+": "+this.message};var s=function(e){this.message=e,this.name="InterpreterError"},c=function(){this.name="InterruptException"},l=function(e,t,n,r){this.doc=e.document,this.window=e,this.ret={},this.id=l.id++,this.first_run=!0;var i=this;this.return_callback=function(e){t(e,i.getCurrentContext())},this.error_callback=function(e){var t=i.getCurrentContext();t._modified&&n(e,t)},this.event_callback=function(e){r(e)}};return l.id=0,l.prototype.InterpreterError=s,l.prototype.RequireError=u,l.prototype.interpretNext=function(){var e=this.stmt_stack;if(e.length>0){var t=e.pop();try{t.interpret(this),this.interpretNext()}catch(n){n instanceof c?e.push(t):this.error_callback.call(this,n)}}},l.prototype.getCurrentContext=function(){var e={_refresh:void 0!==this.refresh_timer};for(var t in this.variables)if(this.variables.hasOwnProperty(t)){var n=t.substring(1);e[n]=this.variables[t]}return e._modified=void 0===this.previousContext||!r(this.previousContext,e),e},l.prototype.interpret=function(t){if(this.first_run?(this.previousContext=void 0,this.first_run=!1):this.previousContext=this.getCurrentContext(),"string"==typeof t)try{this.ast=e.parse(t)}catch(e){return void this.error_callback(e)}else this.ast=t;this.variables={},this.temp={},this.stmt_stack=[],this.refresh_timer=void 0,this.wait_timer=void 0,this.ast.interpret(this)},
l.prototype.pause_timers=function(){this.refresh_timer&&this.refresh_timer.pause(),this.wait_timer&&this.wait_timer.pause()},l.prototype.resume_timers=function(){this.refresh_timer&&this.refresh_timer.resume(),this.wait_timer&&this.wait_timer.resume()},l.prototype.close=function(){this.refresh_timer&&this.refresh_timer.cancel(),this.wait_timer&&this.wait_timer.cancel()},l.prototype._getNodeList=function(e){if("string"!=typeof e)throw new s("First argument needs to be a selector.");try{return n(e,this.doc)}catch(e){throw new s("CSS Selector - "+e)}},l.prototype.function_table={call:function(){var e=Array.prototype.slice.call(arguments);if(e.length<2)throw new s("Wrong number of arguments.");for(var t=e[0],r=e[1],i=e.slice(2),o=this._getNodeList(t),a=0;a<o.length;a++){var u=n(o[a]);u[r]&&u[r].apply(u,i)}},event:function(){var e=Array.prototype.slice.call(arguments);this.event_callback(e)},json:function(){var e=Array.prototype.slice.call(arguments);if(e.length%2!=0)throw new s("Need even number of arguments.");for(var t=0,n={};t<e.length;n[e[t]]=e[t+1],t+=2);return JSON.stringify(n)},setAttribute:function(){var e=Array.prototype.slice.call(arguments);if(e.length<3)throw new s("Wrong number of arguments.");for(var t=e[0],n=e[1],r=e[2],i=this._getNodeList(t),o=0;o<i.length;o++)i[o][n]=r},const:function(e){return e},sizzle:function(){var e,t=Array.prototype.slice.call(arguments),n=t[0];t.length>1&&(e=t[1]);var r=this._getNodeList(n);if(0===r.length)return"";for(var i=[],o=0;o<r.length;o++){var a=r[o],u="";u=e?"textContent"===e?a.textContent||a.innerText:a.getAttribute(e):a.innerHTML,i.push(u)}return 1===i.length?i[0]:i},debug:function(){},httpGet:function(e){var n=this,r=this.temp,i="__httpGet__"+e;if(i in r){var o=r[i];return delete r[i],o}var a=new t.AjaxRequest("GET",e);throw a.onReadyStateChange(function(e){var t=null;4===e.readyState&&(200===e.status&&(t=e.responseText),r[i]=t,n.interpretNext())}),a.onError(function(){r[i]=null,n.interpretNext()}),a.send(null),new c},join:function(e,t){return e.join(t)},len:function(e){return e.hasOwnProperty("length")?e.length:void 0},re:function(){var e=Array.prototype.slice.call(arguments),t=this.doc.documentElement.innerHTML,n=e[0],r="";if(e.length>=2&&(r=e[1]),3===e.length&&(t=e[2]),e.length>3)throw new a("'re' expression expects 3 arguments at most.");if(!t)return"";if("string"!=typeof t)try{t=t.toString()}catch(e){throw new a("'re' block argument has no 'toString'.")}t=t.replace(/(\r|\n)/gi,""),n instanceof RegExp&&(n=n.source),n=n.replace(/"([^?])/gi,'"?$1'),-1===r.search("i")&&(r+="i"),n=new RegExp(n,r);var i=t.match(n);return i?-1!==r.search("g")?i:1===i.length||i[1]:""},refresh:function(e){var t=this;if(void 0===e)throw new a("refresh interval argument required.");if(1e3>(e=parseInt(e,10)))throw new a("interval must be at least 1000.");this.refresh_timer&&this.refresh_timer.cancel(),this.refresh_timer=new i(function(){t.interpret(t.ast)},e)},replace:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();if("string"!=typeof t)throw new o("First argument must be of type string.");if(0===e.length||e.length%2!=0)throw new a("ReplaceExpression got wrong number of args.");e.reverse();for(var n=2;e.length>0;){var r=e.pop();r instanceof RegExp&&(r=r.source);var i=e.pop();try{r=new RegExp(r,"gi")}catch(e){throw new a("Cannot create RegExp for "+r)}n+=2,t=t.replace(r,i)}return t},trim:function(e){return"string"==typeof e&&(e=e.replace(/\s+/gi," "),e=e.replace(/^\s/i,"").replace(/\s$/i,"")),e},url:function(){var e=this.doc;try{return e.location.href}catch(e){throw new s("'doc' has no property 'location.href'.")}},urlParam:function(e){var t,n=this.doc;try{t=n.location.href}catch(e){throw new s("'doc' has no property 'location.href'.")}for(var r=t.slice(t.indexOf("?")+1).split("&"),i={},o=0,a=r.length;a>o;o++){var u=r[o].split("=");i[u[0]]=u[1]}return i[e]},version:function(){return e?e.VERSION:void 0},at_least_version:function(t){function n(e){if("string"!=typeof e)return!1;var t=e.split(".");return{major:parseInt(t[0],10)||0,minor:parseInt(t[1],10)||0,patch:parseInt(t[2],10)||0}}if(!e)throw new s("CSL Parser not in namespace. ");var r=n(t),i=n(e.VERSION);return i.major!==r.major?i.major>r.major:i.minor!==r.minor?i.minor>r.minor:i.patch===r.patch||i.patch>r.patch},wait:function(e){var t=this;if(!("wait_token"in this.temp)){if(0>(e=parseInt(e,10)))throw new a("Delay must be larger than 0.");throw window.setTimeout(function(){t.temp.wait_token=null,t.interpretNext()},e),new c}delete this.temp.wait_token},xpath:function(e){var t=this.doc;if(!("evaluate"in t))throw new s("DOM doc object has no 'evaluate' function.");var n=null;try{n=t.evaluate(e,t,null,2,null)}catch(e){throw new s(e)}return n?n.stringValue:""}},{TypeError:o,ValueError:a,InterruptException:c,Interpreter:l}}),r("utils",[],function(){function e(e,t){return e===t?0:t>e?-1:1}function t(t,n){var r=e;return t&&(r=function(n,r){return e(t(n),t(r))}),n?function(e,t){return-1*r(e,t)}:r}function n(){for(var e=[],t=0;36>t;t++)e[t]=Math.floor(16*Math.random());for(e[14]=4,e[19]=3&e[19]|8,t=0;36>t;t++)e[t]="0123456789ABCDEF"[e[t]];return e[8]=e[13]=e[18]=e[23]="-",e.join("")}return{getHostname:function(e){return e.match(/^(https?:\/\/.*?(?::\d+)?\/)/)[1]},sort:function(n){for(var r,i,o,a=[],u=1;u<arguments.length;u++)r=arguments[u],"string"==typeof r?(i=r,o=e):(i=r.name,o=t(r.primer,r.reverse)),a.push({name:i,cmp:o});var s=function(e,t){for(var n=0,r=0;r<a.length;r++){var i=a[r];if(void 0!==e[i.name]&&0!==(n=i.cmp(e[i.name],t[i.name])))break}return n};n.sort(s)},makeRandomString:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;e>r;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},settings_sanity_check:function(e){if("object"!=typeof e)throw"settings must be object";if(!e.tag)throw"settings.tag is mandatory";"about:blank"===e.url&&(e.url=void 0)},generateRandomUUID:n}}),r("page",["constants","interpreter","request","utils"],function(e,t,n,r){var i=function(t,n){r.settings_sanity_check(n),this.doc=t,this.referrer=t.location.referer,this.listeners={},this.num_pending_plugins=0,this.api_url_search=e.get_url("analyze",n),this.api_url_coupon=e.get_url("voucher",n),this.settings=n,this.offers={},this.totalOffers=0};return i.prototype={load:function(){var t=this,i=new n.AjaxRequest("GET",this.api_url_search,{url:r.getHostname(this.settings.url||this.doc.location.href),version:e.version,tag:this.settings.tag,campaign:this.settings.campaign,uuid:this.settings.uuid});i.onLoad(function(e){200===e.status?t.domainConfigReceived(e):t.trigger("error",{message:"Could not retrieve domain configuration."})}),i.send()},clearOffers:function(e){this.offers.hasOwnProperty(e)&&(this.totalOffers-=this.offers[e].count),delete this.offers[e]},doCiuvoSearch:function(e,n){var r=this;new t.Interpreter(window,function(t){r.callSearchBackend(t,e,n.plugin_name)},function(e){r.trigger("error",e)},function(){}).interpret(n.csl)},getUrl:function(){return this.settings.url||this.doc.location.href},doVoucherSearch:function(t,i){this.num_pending_plugins++;var o=new n.AjaxRequest("GET",this.api_url_coupon,{url:r.getHostname(this.getUrl()),referrer:this.referrer,version:e.version,tag:this.settings.tag,campaign:this.settings.campaign,uuid:this.settings.uuid,limit:this.settings.limit,filter:this.settings.filter}),a=this;this.clearOffers(i.plugin_name),o.onLoad(function(e){a.parseResponse(e,t,i.plugin_name)}),o.send()},domainConfigReceived:function(e){var t=JSON.parse(e.responseText),n=this,r=function(e,t){e&&!e.morepending&&n.num_pending_plugins--,n.processResponseChunk(e,t)};if(201===t.status)for(var i=0;i<t.plugins.length;i++){var o=t.plugins[i],a=o[0],u=o[1]||{};if(u.plugin_name=a,u.csl||(u.csl=t.csl),"function"==typeof this["do"+a])try{this["do"+a].apply(this,[r,u])}catch(e){}}else this.trigger("error",{message:"This webpage is not configured."})},callSearchBackend:function(t,r,i){this.num_pending_plugins++,this.clearOffers(i);for(var o={query:t,url:this.settings.url||this.doc.location.href,tag:this.settings.tag,version:e.version},a=["campaign","uuid","filter","limit","init"],u=0;u<a.length;u++)this.settings[a[u]]&&(o[a[u]]=this.settings[a[u]]);this.referer&&(o.referer=this.referer);var s=new n.AjaxRequest("POST",this.api_url_search),c=this;s.onLoad(function(e){c.parseResponse(e,r,i)}),s.send(JSON.stringify(o))},parseResponse:function(e,t,n){if(2===e.readyState&&200===e.status&&(e.chunks_read=0),(3===e.readyState||4===e.readyState)&&200===e.status&&"\n"===e.responseText.slice(-1)){var r=e.responseText.split("\n"),i=r.slice(e.chunks_read);e.chunks_read=r.length;for(var o=0,a=i.length;a>o;o++)if(0!==i[o].length){var u=JSON.parse(i[o]);t(u,n)}}},processResponseChunk:function(e,t){this.offers.hasOwnProperty(t)||(this.offers[t]={count:0});for(var n=e.items[0],r=0,i=n.offers.length;i>r;r++){var o=n.offers[r];this.offers[t].hasOwnProperty(o.category)||(this.offers[t][o.category]={category:o.category,priority:o.priority,offers:[]}),this.offers[t][o.category].offers.push(o),this.offers[t].count++,this.totalOffers++,this.trigger("offer",o)}e.morepending||this.num_pending_plugins||(this.trigger("offers",this.sortOffers()),this.trigger("finalize"))},mergeOffers:function(){allOffers={};var e=function(e){return JSON.parse(JSON.stringify(e))};for(var t in this.offers)if(this.offers.hasOwnProperty(t))for(var n in this.offers[t])this.offers[t].hasOwnProperty(n)&&"object"==typeof this.offers[t][n]&&(allOffers.hasOwnProperty(n)?allOffers[n].offers.concat(e(this.offers[t][n].offers)):allOffers[n]=e(this.offers[t][n]));return allOffers},sortOffers:function(){allOffers=this.mergeOffers();for(var e in allOffers)allOffers.hasOwnProperty(e)&&r.sort(allOffers[e].offers,{name:"sortorder",primer:parseInt});return allOffers},close:function(){},on:function(e,t){void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].push(t)},trigger:function(e){if(void 0!==this.listeners[e])for(var t=0;t<this.listeners[e].length;t++)if("function"==typeof this.listeners[e][t]){var n=Array.prototype.slice.call(arguments,1);try{this.listeners[e][t].apply(this,n)}catch(e){}}}},{ConnectedPage:i}}),r("ciuvoSDK",["constants"],function(e){var t={version:e.version};return n(["page","interpreter","cslparser"]),t.ConnectedPage=n("page").ConnectedPage,t.Interpreter=n("interpreter").Interpreter,t.Parser=n("cslparser"),t}),n("ciuvoSDK")}()}(this),t.exports=this.ciuvoSDK},{}],4:[function(e,t,n){"use strict";t.exports=e("./src/ContentMessenger")},{"./src/ContentMessenger":5}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./Messenger"),s=e("./ContentTopic"),c=e("./chrome"),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s)),n=e._onMessage.bind(e);return c.runtime.onMessage.addListener(n),window.addEventListener("unload",function(){c.runtime.onMessage.removeListener(n)}),c.runtime.connect({name:"ContentMessenger"}).onDisconnect.addListener(e._onDisconnect.bind(e)),e}return o(t,e),a(t,[{key:"_onMessage",value:function(e,t,n){if(!t.tab&&e.publish){var r=this._getTopic(e.publish);r&&r.publish(e.message,n)}return!0}},{key:"_onDisconnect",value:function(){var e=this._getTopic("Background:closed");e&&e.publish()}},{key:"publish",value:function(e,t,n){var r=10;!function i(){c.runtime.sendMessage({publish:e,message:t},function(e){var t=c.runtime.lastError;t&&"Could not establish connection. Receiving end does not exist."===t.message?(r-=1)&&setTimeout(i,50):"function"==typeof n&&n(e)})}()}}]),t}(u);t.exports=l},{"./ContentTopic":6,"./Messenger":7,"./chrome":9}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e("./Topic"),u=e("./chrome"),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.runtime.sendMessage({subscribe:e}),n}return o(t,e),t}(a);t.exports=s},{"./Topic":8,"./chrome":9}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this._topicClass=t,this._topics={}}return i(e,null,[{key:"getInstance",value:function(){return this._instance||(this._instance=new this),this._instance}}]),i(e,[{key:"_getTopic",value:function(e,t){var n=this._topics[e];return!n&&t&&(this._topics[e]=n=new this._topicClass(e)),n}},{key:"subscribe",value:function(e,t){this._getTopic(e,!0).subscribe(t)}},{key:"publish",value:function(e,t,n,r){var i=this._getTopic(e);i&&i.publish(t,n,r)}}]),e}();t.exports=o},{}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this._name=t,this._callbacks=[]}return i(e,[{key:"publish",value:function(e,t){var n=this._wrapCallback(t);this._callbacks.forEach(function(t){return t(e,n)})}},{key:"_wrapCallback",value:function(e){return null==e?e:function(){try{e.apply(void 0,arguments)}catch(e){if("Attempting to use a disconnected port object"!==e.message)throw e}}}},{key:"subscribe",value:function(e){this._callbacks.push(e)}}]),e}();t.exports=o},{}],9:[function(e,t,n){"use strict";t.exports=chrome},{}],10:[function(e,t,n){/*!
* screenfull
* v3.0.0 - 2015-11-24
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var e=void 0!==t&&t.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((e=n[r])&&e[1]in document){for(r=0,t=e.length;r<t;r++)o[n[0][r]]=e[r];return o}return!1}(),i={request:function(e){var t=r.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:r};if(!r)return void(e?t.exports=!1:window.screenfull=!1);Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[r.fullscreenEnabled])}}}),e?t.exports=i:window.screenfull=i}()},{}],11:[function(e,t,n){
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var u=i?i[o]:o;r=n(r,t[u],u,t)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!O(n)&&_.keys(n),u=(a||n).length,s=e>0?0:u-1;return arguments.length<3&&(i=n[a?a[s]:s],s+=e),t(n,r,i,a,s,u)}}function r(e){return function(t,n,r){n=x(n,r);for(var i=k(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function i(e,t,n){return function(r,i,o){var a=0,u=k(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(n&&o&&u)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(p.call(r,a,u),_.isNaN),o>=0?o+a:-1;for(o=e>0?a:u-1;o>=0&&o<u;o+=e)if(r[o]===i)return o;return-1}}function o(e,t){var n=I.length,r=e.constructor,i=_.isFunction(r)&&r.prototype||c,o="constructor";for(_.has(e,o)&&!_.contains(t,o)&&t.push(o);n--;)(o=I[n])in e&&e[o]!==i[o]&&!_.contains(t,o)&&t.push(o)}var a=this,u=a._,s=Array.prototype,c=Object.prototype,l=Function.prototype,f=s.push,p=s.slice,h=c.toString,d=c.hasOwnProperty,v=Array.isArray,g=Object.keys,y=l.bind,m=Object.create,b=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};void 0!==n?(void 0!==t&&t.exports&&(n=t.exports=_),n._=_):a._=_,_.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return null==e?_.identity:_.isFunction(e)?w(e,t,n):_.isObject(e)?_.matcher(e):_.property(e)};_.iteratee=function(e,t){return x(e,t,1/0)};var C=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),u=a.length,s=0;s<u;s++){var c=a[s];t&&void 0!==n[c]||(n[c]=o[c])}return n}},S=function(e){if(!_.isObject(e))return{};if(m)return m(e);b.prototype=e;var t=new b;return b.prototype=null,t},A=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,k=A("length"),O=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=E};_.each=_.forEach=function(e,t,n){t=w(t,n);var r,i;if(O(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=_.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},_.map=_.collect=function(e,t,n){t=x(t,n);for(var r=!O(e)&&_.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=t(e[u],u,e)}return o},_.reduce=_.foldl=_.inject=e(1),_.reduceRight=_.foldr=e(-1),_.find=_.detect=function(e,t,n){var r;if(void 0!==(r=O(e)?_.findIndex(e,t,n):_.findKey(e,t,n))&&-1!==r)return e[r]},_.filter=_.select=function(e,t,n){var r=[];return t=x(t,n),_.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},_.reject=function(e,t,n){return _.filter(e,_.negate(x(t)),n)},_.every=_.all=function(e,t,n){t=x(t,n);for(var r=!O(e)&&_.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},_.some=_.any=function(e,t,n){t=x(t,n);for(var r=!O(e)&&_.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,r){return O(e)||(e=_.values(e)),("number"!=typeof n||r)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=function(e,t){var n=p.call(arguments,2),r=_.isFunction(t);return _.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=O(e)?e:_.values(e);for(var u=0,s=e.length;u<s;u++)(r=e[u])>o&&(o=r)}else t=x(t,n),_.each(e,function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},_.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=O(e)?e:_.values(e);for(var u=0,s=e.length;u<s;u++)(r=e[u])<o&&(o=r)}else t=x(t,n),_.each(e,function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},_.shuffle=function(e){for(var t,n=O(e)?e:_.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=_.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},_.sample=function(e,t,n){return null==t||n?(O(e)||(e=_.values(e)),e[_.random(e.length-1)]):_.shuffle(e).slice(0,Math.max(0,t))},_.sortBy=function(e,t,n){return t=x(t,n),_.pluck(_.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var j=function(e){return function(t,n,r){var i={};return n=x(n,r),_.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};_.groupBy=j(function(e,t,n){_.has(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=j(function(e,t,n){e[n]=t}),_.countBy=j(function(e,t,n){_.has(e,n)?e[n]++:e[n]=1}),_.toArray=function(e){return e?_.isArray(e)?p.call(e):O(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:O(e)?e.length:_.keys(e).length},_.partition=function(e,t,n){t=x(t,n);var r=[],i=[];return _.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},_.first=_.head=_.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var T=function(e,t,n,r){for(var i=[],o=0,a=r||0,u=k(e);a<u;a++){var s=e[a];if(O(s)&&(_.isArray(s)||_.isArguments(s))){t||(s=T(s,t,n));var c=0,l=s.length;for(i.length+=l;c<l;)i[o++]=s[c++]}else n||(i[o++]=s)}return i};_.flatten=function(e,t){return T(e,t,!1)},_.without=function(e){return _.difference(e,p.call(arguments,1))},_.uniq=_.unique=function(e,t,n,r){_.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=x(n,r));for(var i=[],o=[],a=0,u=k(e);a<u;a++){var s=e[a],c=n?n(s,a,e):s;t?(a&&o===c||i.push(s),o=c):n?_.contains(o,c)||(o.push(c),i.push(s)):_.contains(i,s)||i.push(s)}return i},_.union=function(){return _.uniq(T(arguments,!0,!0))},_.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=k(e);r<i;r++){var o=e[r];if(!_.contains(t,o)){for(var a=1;a<n&&_.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},_.difference=function(e){var t=T(arguments,!0,!0,1);return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(e){for(var t=e&&_.max(e,k).length||0,n=Array(t),r=0;r<t;r++)n[r]=_.pluck(e,r);return n},_.object=function(e,t){for(var n={},r=0,i=k(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},_.findIndex=r(1),_.findLastIndex=r(-1),_.sortedIndex=function(e,t,n,r){n=x(n,r,1);for(var i=n(t),o=0,a=k(e);o<a;){var u=Math.floor((o+a)/2);n(e[u])<i?o=u+1:a=u}return o},_.indexOf=i(1,_.findIndex,_.sortedIndex),_.lastIndexOf=i(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var P=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=S(e.prototype),a=e.apply(o,i);return _.isObject(a)?a:o};_.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,p.call(arguments,1));if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),r=function(){return P(e,r,t,this,n.concat(p.call(arguments)))};return r},_.partial=function(e){var t=p.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===_?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return P(e,n,this,this,o)};return n},_.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=_.bind(e[n],e);return e},_.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return _.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},_.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var r,i,o,a=null,u=0;n||(n={});var s=function(){u=!1===n.leading?0:_.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=_.now();u||!1!==n.leading||(u=c);var l=t-(c-u);return r=this,i=arguments,l<=0||l>t?(a&&(clearTimeout(a),a=null),u=c,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(s,l)),o}},_.debounce=function(e,t,n){var r,i,o,a,u,s=function(){var c=_.now()-a;c<t&&c>=0?r=setTimeout(s,t-c):(r=null,n||(u=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=_.now();var c=n&&!r;return r||(r=setTimeout(s,t)),c&&(u=e.apply(o,i),o=i=null),u}},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},_.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},_.once=_.partial(_.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(e){if(!_.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)_.has(e,n)&&t.push(n);return R&&o(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return R&&o(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},_.mapObject=function(e,t,n){t=x(t,n);for(var r,i=_.keys(e),o=i.length,a={},u=0;u<o;u++)r=i[u],a[r]=t(e[r],r,e);return a},_.pairs=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},_.invert=function(e){for(var t={},n=_.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=C(_.allKeys),_.extendOwn=_.assign=C(_.keys),_.findKey=function(e,t,n){t=x(t,n);for(var r,i=_.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},_.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;_.isFunction(t)?(i=_.allKeys(a),r=w(t,n)):(i=T(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var u=0,s=i.length;u<s;u++){var c=i[u],l=a[c];r(l,c,a)&&(o[c]=l)}return o},_.omit=function(e,t,n){if(_.isFunction(t))t=_.negate(t);else{var r=_.map(T(arguments,!1,!1,1),String);t=function(e,t){return!_.contains(r,t)}}return _.pick(e,t,n)},_.defaults=C(_.allKeys,!0),_.create=function(e,t){var n=S(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var N=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,u=t.constructor;if(a!==u&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===e)return r[s]===t;if(n.push(e),r.push(t),o){if((s=e.length)!==t.length)return!1;for(;s--;)if(!N(e[s],t[s],n,r))return!1}else{var c,l=_.keys(e);if(s=l.length,_.keys(t).length!==s)return!1;for(;s--;)if(c=l[s],!_.has(t,c)||!N(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};_.isEqual=function(e,t){return N(e,t)},_.isEmpty=function(e){return null==e||(O(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=v||function(e){return"[object Array]"===h.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){_["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return _.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!==+e},_.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return null!=e&&d.call(e,t)},_.noConflict=function(){return a._=u,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=A,_.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=_.invert(L),D=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};_.escape=D(L),_.unescape=D(q),_.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),_.isFunction(r)?r.call(e):r};var F=0;_.uniqueId=function(e){var t=++F+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,U=function(e){return"\\"+M[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,u){return o+=e.slice(i,u).replace(z,U),i=u+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var u=function(e){return a.call(this,e,_)};return u.source="function("+(t.variable||"obj")+"){\n"+o+"}",u},_.chain=function(e){var t=_(e);return t._chain=!0,t};var H=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){_.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),H(this,n.apply(_,e))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),_.each(["concat","join","slice"],function(e){var t=s[e];_.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this)},{}],12:[function(e,t,n){t.exports='<div class="__avira__search_block_icon"></div>\n<div class="__avira__safetip">\n    <div class="__avira__safetip-content">\n        <div class="__avira__safetip-close">Ã</div>\n        <div class="__avira__safetip-title">{{ name }}</div>\n        <div class="__avira__safetip-description">{{ description }}</div>\n        <div class="__avira__safetip-copy"><span>{{ lb_powered_by_avira }}</span></div>\n    </div>\n</div>\n'},{}],13:[function(e,t,n){"use strict";t.exports={getInstance:function(){try{return localStorage.constructor.prototype.initialize=function(){return Promise.resolve()},localStorage}catch(e){return{getItem:function(){return null},setItem:function(){return null},removeItem:function(){return null},initialize:function(){return Promise.resolve()}}}}}},{}],14:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("underscore"),o=e("background/localStorage").getInstance(),a=e("configuration"),u=function e(t,n){t=t||{};for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];void 0===t[i]||"object"!==(void 0===o?"undefined":r(o))||o instanceof Array?t[i]=o:t[i]=e(t[i],o)}return t};i.extend(a,{getConfigOverrides:function(){try{return JSON.parse(o.getItem("config_overrides"))}catch(e){return{}}},setConfigOverrides:function(e){var t=u(this.getConfigOverrides(),e);o.setItem("config_overrides",JSON.stringify(t))},clearConfigOverrides:function(){o.removeItem("config_overrides")},mergeOverrides:function(){u(this,this.getConfigOverrides())}}),t.exports=a},{"background/localStorage":13,configuration:2,underscore:11}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this._document=t}return i(e,[{key:"_checkRule",value:function(e,t){var n=!1;e.type.toLowerCase()===t.type&&(n=!0);var r=new RegExp(t.name);return(r.test(e.id)||r.test(e.name))&&(n=!0),n?{el:e,name:e.name,id:e.id,type:e.type,value:e.value}:null}},{key:"_isPasswordField",value:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type.toLowerCase()}},{key:"_getFieldInfo",value:function(e){return{el:e,name:e.name,id:e.id,type:e.type,value:e.value}}},{key:"_getPageInfo",value:function(){return Array.from(this._document.getElementsByTagName("input")).filter(this._isPasswordField).map(this._getFieldInfo)}},{key:"analyze",value:function(e){var t=this;document.body.addEventListener("input",function(n){var r=n.target;t._isPasswordField(r)&&e(t._getPageInfo())}),e(this._getPageInfo())}}]),e}();t.exports=o},{}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e("content/Iframes/base/Iframe_top"),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(a);t.exports=u},{"content/Iframes/base/Iframe_top":20}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e("underscore"),u=e("content/Iframes/base/Iframe"),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(u);a.extend(s.prototype,{id:"abs-ext-perm-notification",containerSelector:"html",css:{position:"absolute","z-index":Math.pow(2,32)-1,overflow:"hidden",top:0,right:0,width:"312px",height:"384px","max-height":"none","min-height":0,margin:"0",padding:"0",border:0,"background-color":"transparent"}}),t.exports=s},{"content/Iframes/base/Iframe":19,underscore:11}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e("underscore"),u=e("content/Iframes/base/Iframe"),s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(u);a.extend(s.prototype,{id:"abs-tracker-notification",containerSelector:"html",css:{position:"absolute","z-index":Math.pow(2,32)-1,overflow:"hidden",top:0,right:0,width:"312px",height:"384px","max-height":"none","min-height":0,margin:"0",padding:"0",border:0,"background-color":"transparent"}}),t.exports=s},{"content/Iframes/base/Iframe":19,underscore:11}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("content/messagingInterface"),a=function(){function e(t,n,i,o){r(this,e),this.url=t,this.css=Object.assign({},this.css),n&&(this.id=n),i&&(this.containerSelector=i),o&&this._applyCssOverride(o)}return i(e,null,[{key:"initClass",value:function(){this.prototype.el=null,this.prototype.css={position:"absolute","z-index":"auto",overflow:"hidden",width:"100%",height:"100%","max-height":"none","min-height":0,margin:"0 auto",padding:0,border:0,"background-color":"transparent"}}}]),i(e,[{key:"createEl",value:function(){this.el=document.createElement("iframe"),this.el.setAttribute("allowtransparency",!0),this.el.setAttribute("frameBorder",0),this.el.setAttribute("id",this.id||"abs-iframe"),this.css&&this._applyCss(this.css)}},{key:"attach",value:function(){return document.querySelector(this.containerSelector).appendChild(this.el),this.el.setAttribute("src",this.url)}},{key:"remove",value:function(){return this.el.parentNode.removeChild(this.el)}},{key:"subscribe",value:function(){var e=this;return o.subscribe("Iframe:redimension",function(t){return e._applyCss(t)}),o.subscribe("Iframe:close",function(){return e.remove()})}},{key:"_applyCssOverride",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this.css[t]=e[t])}},{key:"_applyCss",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this._applyCssProperty(t,e[t])}},{key:"_applyCssProperty",value:function(e,t){return this.el.style.setProperty(e,t,"important")}}]),e}();a.initClass(),t.exports=a},{"content/messagingInterface":22}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("content/Iframes/base/Iframe"),c=e("config"),l=e("content/messagingInterface"),f=e("screenfull"),p=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._adjustWidth=n._adjustWidth.bind(n),n._onBeforeRouteChange=n._onBeforeRouteChange.bind(n),n}return o(t,e),u(t,null,[{key:"initClass",value:function(){this.prototype.id="abs-top-frame",this.prototype.containerSelector="html",this.prototype.css={position:"fixed","z-index":Math.pow(2,32)-1,overflow:"hidden",top:0,left:0,right:0,width:0,height:0,"max-height":"none","min-height":0,margin:"0 auto",padding:0,border:0,"background-color":"transparent"},this.prototype.stateCSS={min:{width:"0",height:"0"},permanentBar:{width:"100%",height:"60px"},permanentBarOffers:{width:"100%",height:"60px"},permanentBarAndDash:{width:"100%",height:"100%"},dash:{width:"100%",height:"100%"}},this.prototype.statesWithAdaptingDelays={min:["bar"],popup:["bar"],bar:["min"],permanentBar:["min"],permanentBarAndDash:["min","permanentBar"],dash:["min","bar","permanentBar"]},this.prototype.stateRoutePatterns={min:[/^minimized/],bar:[/^$/,/^serp$/,/^PUA\/.+?\/bar$/],permanentBar:[/^offers\/(minimized|coupon)$/,/^maliciousSearchEngine$/,/^unsafeContent\/notification$/],permanentBarAndDash:[/^offers\/?.*$/]},this.prototype.delays={stateChangeAdapting:c.barTransitionDelay,fromMinimized:c.barTransitionDelay,toMinimized:2*c.barTransitionDelay},this.prototype._currentState=null,this.prototype._adjustHeightTimeout=null,this.prototype._isTopURLUnsafe=!1,this.prototype._isContentUnsafe=!1,this.prototype._isPUA=!1,this.prototype._isMSE=!1,this.prototype._isMouseIn=!1,this.prototype._classObservers={}}}]),u(t,[{key:"attach",value:function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this)).call.apply(e,[this].concat(r)),this._changeState("min")}},{key:"remove",value:function(){var e;this._toggleContentPushdown(!1);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this)).call.apply(e,[this].concat(r))}},{key:"subscribe",value:function(){var e=this;l.subscribe("router:beforeRouteChange",this._onBeforeRouteChange),l.subscribe("indicatorBar:widthChanged",this._adjustWidth),l.publish("Tabs:getData",{classifier:"AUCClassifier"},function(t){e._isTopURLUnsafe=t.unsafe,e._isContentUnsafe=t.hasUnsafeContent,e._isPUA=t.isPUA,e._isWarning=t.isWarning,e._isMSE=t.isMSE,(e._isTopURLUnsafe||e._isContentUnsafe||e._isPUA||e._isWarning||e._isMSE)&&e._actualizeCss()}),this.el.addEventListener("mouseover",function(t){t.stopPropagation(),e._isMouseIn=!0,"min"===e._currentState&&e._changeRouteOrPass("",e.delays.fromMinimized,function(){return e._isMouseIn})}),this.el.addEventListener("mouseout",function(t){return t.stopPropagation(),e._isMouseIn=!1,e._minimizeOrPass()}),f.enabled&&document.addEventListener(f.raw.fullscreenchange,function(){e.el.style.display=f.isFullscreen?"none":"block"})}},{key:"preventMutations",value:function(){var e=this.url;return new MutationObserver(function(t){return function(){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=Array.from(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=void 0;s.target.src!==e&&(c=e,s.target.src=e),n.push(c)}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}()}).observe(this.el,{attributes:!0,attributeFilter:["src"]})}},{key:"_toShow",value:function(){return!!(this._isTopURLUnsafe||this._isContentUnsafe||this._isPUA||this._isWarning||this._isMSE)||["permanentBarAndDash","permanentBar"].includes(this._currentState)}},{key:"_onBeforeRouteChange",value:function(e){for(var t in this.stateRoutePatterns)if(this.stateRoutePatterns.hasOwnProperty(t)){var n=this.stateRoutePatterns[t],r=!0,i=!1,o=void 0;try{for(var a,u=Array.from(n)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;if(s.test(e.route))return void this._changeState(t)}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}}}},{key:"_changeState",value:function(e){if(e!==this._currentState){var t=this._getDelayByState(e);this._toggleContentPushdownByState(e),this._currentState=e,this._actualizeCssWithDelay(t),this._adjustHeightWithDelay(t)}}},{key:"_actualizeCssWithDelay",value:function(e){return e?setTimeout(this._actualizeCss.bind(this),e):this._actualizeCss()}},{key:"_actualizeCss",value:function(){return this._toShow()?(this._applyCss({display:"block"}),this._applyCss(this.stateCSS[this._currentState])):this._applyCss({display:"none"})}},{key:"_getDelayByState",value:function(e){return this._currentState&&Array.from(this.statesWithAdaptingDelays[this._currentState]).includes(e)?this.delays.stateChangeAdapting:0}},{key:"_toggleContentPushdownByState",value:function(e){var t=this;["min"].includes(this._currentState)&&["permanentBar","permanentBarAndDash"].includes(e)&&setTimeout(function(){return t._toggleContentPushdown(!0)},this.delays.fromMinimized),["min"].includes(e)&&["permanentBar","permanentBarAndDash"].includes(this._currentState)&&this._toggleContentPushdown(!1)}},{key:"_toggleContentPushdown",value:function(e){return this._toggleElementPushdown(document.querySelector("html"),"margin-top",e),this._toggleCustomContentPushdown(e)}},{key:"_toggleCustomContentPushdown",value:function(e){var t=this,n={"^https?:\\/\\/www\\.youtube\\.com\\/":"#masthead-positioner","^https?:\\/\\/www\\.pinterest\\.com\\/":".App .headerBackground, .App .headerContainer","^https?:\\/\\/search\\.yahoo\\.com\\/":[function(){return t._toggleElementPushdown(document.querySelector("#yucsHead"),"margin-top",e,{important:!0})}],"^https?:\\/\\/((www\\.|[a-z]{2,3})\\.)?wikipedia\\.(com|org)":this._positionBody,"^https?:\\/\\/(www\\.)?google\\.(((com|co)\\.[a-z]{2})|[a-z]{2,3})\\/search\\?":this._positionBody,"^https?:\\/\\/(www\\.)?google\\.(((com|co)\\.[a-z]{2})|[a-z]{2,3})\\/":"#viewport","^https?:\\/\\/www\\.apple\\.com\\/":[this._positionBody,this._observeClassToggle(".localnav-wrapper","is-sticking",e),this._observeClassToggle("sticky.as-productdecision-selectionmedia","ase-sticky-stuck",e,"margin-top")],"^https?:\\/\\/www\\.hse24\\.de\\/":this._positionBody};for(var r in n)if(n.hasOwnProperty(r)&&new RegExp(r).test(window.location.href)){var i=n[r],o=[].concat(i);o.forEach(function(n){if("function"==typeof n)return void n();var r=!0,i=!1,o=void 0;try{for(var a,u=Array.from(document.querySelectorAll(n))[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;t._toggleElementPushdown(s,"top",e)}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}})}}},{key:"_toggleElementPushdown",
value:function(e,t,n){var r=arguments.length<=3?void 0:arguments[3],i=null!=r?r:{},o=i.bypassTransition,a=null!=o&&o,u=i.forceTransition,s=null!=u&&u,c=i.important,l=null!=c&&c;return(n&&!a||s)&&e.style.setProperty("transition",t+" 200ms linear"),e.style.setProperty(t,n?this.stateCSS.permanentBar.height:"0px",l?"important":"")}},{key:"_positionBody",value:function(){return document.body.style.setProperty("position","relative")}},{key:"_observeClassToggle",value:function(e,t,n,r){var i=this;return null==r&&(r="top"),function(){var o=document.querySelector(e);if(o||!n){var a=e+":"+t;i._classObservers[a]||(i._classObservers[a]=new MutationObserver(function(e){return Array.from(e).map(function(e){return i._toggleElementPushdown(e.target,r,e.target.classList.contains(t),{bypassTransition:!0})})})),n?o&&i._classObservers[a].observe(o,{attributes:!0,attributeFilter:["class"]}):(i._classObservers[a].disconnect(),i._toggleElementPushdown(o,r,!1,{forceTransition:!0}))}}}},{key:"_adjustWidth",value:function(e){this._toAdjustWidth()&&this._applyCss({width:e+"px"})}},{key:"_adjustHeightWithDelay",value:function(e){var t=this;clearTimeout(this._adjustHeightTimeout),this._toAdjustHeight()&&(this._adjustHeightTimeout=setTimeout(function(){t._toAdjustHeight()&&l.publish("Popup:getHeight",null,function(e){return t._applyCss({height:e+"px"})})},e))}},{key:"_toAdjustWidth",value:function(){return["bar"].includes(this._currentState)}},{key:"_toAdjustHeight",value:function(){return!1}},{key:"_changeRouteOrPass",value:function(e,t,n){return setTimeout(function(){(null==n||"function"==typeof n&&n())&&l.publish("router:navigateTo",{route:e})},t)}},{key:"_minimizeOrPass",value:function(){var e=this;"bar"===this._currentState&&this._changeRouteOrPass("minimized",this.delays.toMinimized,function(){return!e._isMouseIn&&"bar"===e._currentState})}}]),t}(s);p.initClass(),t.exports=p},{config:14,"content/Iframes/base/Iframe":19,"content/messagingInterface":22,screenfull:10}],21:[function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e("content/Iframes/Iframe"),o=e("content/Iframes/base/Iframe"),a=e("content/Iframes/IframeTrackerNotification"),u=e("content/Iframes/IframeExtPermNotification"),s=e("browser_accessors/extensionAccessor"),c=e("screenfull"),l=e("modules/offers/content/Offers"),f=e("content/searchEngineScan"),p=e("content/DocumentPhishingAnalyzer");e("content/search/search");var h=e("messenger/Content").getInstance();h.publish("Tabs:getData",{classifier:"AUCClassifier"},function(e){e.isMSE&&h.publish("MSEStatusDetected",{SearchEngineRegistered:f.getStatus()})}),e("content/pushstate_handler")(function(){return h.publish("fragmentUpdated")});var d=function(e,t){return e.isMSE&&t&&t.isSSEOfferAllowed||e.hasUnsafeContent},v=!1,g=function(){if(!v){v=!0;var e=Date.now(),t=new i(s.getURL("html/top.html?"+e+"#minimized"));h.subscribe("checkIframe",function(e,n){var r=document.querySelectorAll("iframe");return 1===r.length&&r[0]===t.el?n():(Array.prototype.forEach.call(r,function(e){e!==t.el&&e.src&&0===e.src.indexOf(s.getURL("html/top.html"))&&e.parentNode.removeChild(e)}),n())}),t.createEl(),t.preventMutations(),t.attach(),t.subscribe(),h.publish("updateIframe",{url:t.url,id:t.id});var n=function(e){return t.el.style.display=e?"block":"none"};c.enabled&&document.addEventListener(c.raw.fullscreenchange,function(){return n(!c.isFullscreen)});var r=document.contains(t.el),o=function(){if(!document.contains(t.el)){var e=new URL(window.location.href);h.publish("Tabs:getData",{classifier:"AUCClassifier"},function(t){return h.publish("Mixpanel:track",{event:"iFrame removed by website",properties:{"iFrame was inserted":r,category:t.category,url:e.href,domain:e.host}})})}};setTimeout(o,2e3),h.subscribe("Background:closed",function(){return t.remove()})}},y=null,m=function(){null!=y&&y.remove(),y=null},b=function(e){if(!y){var t=Date.now(),n=s.getURL("html/external.html?"+t);y=new o(n,"abs-iframe-external",e.render&&e.render.external_container,e.render&&e.render.external_css),y.createEl(),y.attach(),h.publish("updateIframe",{url:n,id:"abs-iframe-external"}),y.el.addEventListener("load",function(){return h.publish("AO:externalReady")}),y.subscribe()}};h.subscribe("Background:closed",m),h.subscribe("Tabs:change",function(e){var t=e.AUCClassifier;t&&d(t)&&g()}),h.subscribe("AO:hasOffers",function(e){return e.external?b(e.data):g()}),h.subscribe("AO:data",function(e){0===e.products.length&&m()}),h.publish("bgStorage",{get:"settings"},function(e){if(e&&!1!==e.offers){(new l).start()}});var _=new Promise(function(e){return h.publish("Tabs:getData",{classifier:"AUCClassifier"},e)}),w=new Promise(function(e){return h.publish("fetchTabStatuses",null,e)});Promise.all([_,w]).then(function(e){var t=r(e,2),n=t[0],i=t[1];return n&&n.isAviraPage&&document.body.classList.add("abs-installed"),n&&d(n,i)&&g(),h.publish("DNTNotifications:threshold",{},function(e){if(null!=e){var t=Date.now(),n=s.getURL("html/trackerNotification.html?threshold="+e+"&"+t),r=new a(n);r.createEl(),r.attach(),h.publish("updateIframe",{url:n,id:r.id}),h.subscribe("closeTrackerNotification",function(){return r.remove()})}})}),document.documentElement.lang&&h.publish("Adguard:lang",{language:document.documentElement.lang}),h.publish("PhishingClassifier:shouldClassify",{},function(e){if(e){new p(document).analyze(function(e){e&&h.publish("PhishingClassifier:contentScriptDetection",e)})}});!function(){h.publish("getExtensionPermissionNotifcationShouldShow",{},function(e){if(!0===e){var t=(new Date).getTime(),n=s.getURL("html/ExtPermNotification.html?#"+t),r=new u(n,"abs-ext-perm-notification",null,{left:"0px",top:"70px",margin:"auto"});r.createEl(),r.attach(),h.subscribe("closeEPNotification",function(){r.remove()})}})}()},{"browser_accessors/extensionAccessor":1,"content/DocumentPhishingAnalyzer":15,"content/Iframes/Iframe":16,"content/Iframes/IframeExtPermNotification":17,"content/Iframes/IframeTrackerNotification":18,"content/Iframes/base/Iframe":19,"content/pushstate_handler":23,"content/search/search":33,"content/searchEngineScan":34,"messenger/Content":4,"modules/offers/content/Offers":35,screenfull:10}],22:[function(e,t,n){"use strict";var r=e("messenger/Content"),i=r.getInstance();t.exports=i},{"messenger/Content":4}],23:[function(e,t,n){"use strict";t.exports=function(){}},{}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("mustache"),a=e("annotation.mustache"),u=function(){function e(){r(this,e),document.body.addEventListener("click",this.closeOpenTooltips,!1)}return i(e,[{key:"annotateResult",value:function(e){var t=this,n=e.link.parentNode,r=n.getElementsByClassName("__avira__search_block")[0];r||(r=document.createElement("div"),r.classList.add("__avira__search_block"),r.addEventListener("click",function(e){e.stopImmediatePropagation();var n=e.currentTarget.classList;n.contains("__avira__search_block")&&(n.contains("__avira__show_tooltip")||(t.closeOpenTooltips(),n.toggle("__avira__show_tooltip"))),e.target.classList.contains("__avira__safetip-close")&&t.closeOpenTooltips()},!1),n.insertBefore(r,n.childNodes[0]),n.style.position="relative"),e.category.unsafe&&r.classList.add("__avira__info-danger"),e.category.isWarning&&r.classList.add("__avira__info-warning"),r.innerHTML=o.render(a,e.category)}},{key:"closeOpenTooltips",value:function(){var e=document.getElementsByClassName("__avira__show_tooltip");Array.prototype.forEach.call(e,function(e){return e.classList.remove("__avira__show_tooltip")})}}],[{key:"isSearchBlock",value:function(e){return 0===e.indexOf("__avira__")}}]),e}();t.exports=u},{"annotation.mustache":12,mustache:"mustache"}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,i){r(this,e),this.element=t,this.link=n,this.url=i,this.classified=!1,this.category=1}return i(e,[{key:"setCategory",value:function(e){this.category=e,this.classified=!0}}]),e}();t.exports=o},{}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("content/search/engines/SearchEngine"),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._resultSelector=".PartialSearchResults-item",e._linkSelector="a.PartialSearchResults-item-title-link",e}return o(t,e),a(t,null,[{key:"matches",value:function(e){return/^https?:\/\/([\w-]+\.)*ask\.com\//.test(e)}}]),t}(u);t.exports=s},{"content/search/engines/SearchEngine":30}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("content/search/engines/SearchEngine"),c=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._resultSelector=".b_algo, .b_ad li",e._linkSelector="h2 a",e._observerTargetSelector="#b_content",e}return o(t,e),u(t,null,[{key:"matches",value:function(e){return/^https?:\/\/([\w-]+\.)*bing\.com\//.test(e)}}]),u(t,[{key:"_getSearchResultUrl",value:function(e,n){return e.classList.contains("b_algo")?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSearchResultUrl",this).call(this,e,n):this._getBingAdDestination(n)}}]),t}(s);t.exports=c},{"content/search/engines/SearchEngine":30}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("content/search/engines/SearchEngine"),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._resultSelector="#links .result",e._linkSelector="h2 a.result__a",e._observerTargetSelector="#links",e}return o(t,e),a(t,null,[{key:"matches",value:function(e){return/^https?:\/\/([\w-]+\.)*duckduckgo\.com\//.test(e)}}]),t}(u);t.exports=s},{"content/search/engines/SearchEngine":30}],29:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("content/search/engines/SearchEngine"),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._resultSelector="#rso .g, .ads-ad",e._linkSelector="h3 a + a, .rc > h3.r a",e._observerTargetSelector="#main",e}return o(t,e),a(t,null,[{key:"matches",value:function(e){return/^https?:\/\/(www\.)?google\.(((com|co)\.[a-z]{2})|[a-z]{2,3})\//.test(e)}}]),t}(u);t.exports=s},{"content/search/engines/SearchEngine":30}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("content/search/Result"),a=e("content/search/Annotator"),u=e("messenger/Content").getInstance(),s=function(){function e(){r(this,e),this._resultSelector=null,this._linkSelector=null,this._observerTargetSelector=null,this._results=[],this._observer=null,this._ignoreMutationsInterval=200,this._annotator=new a}return i(e,null,[{key:"matches",value:function(){return!1}}]),i(e,[{key:"initialize",value:function(){var e=this;if("complete"!==document.readyState&&"interactive"!==document.readyState)return void document.addEventListener("DOMContentLoaded",this.initialize.bind(this));this._processPage(),this._initalizeObserver(),window.addEventListener("hashchange",function(){e._processPage(),e._initalizeObserver()})}},{key:"_processPage",value:function(){this._results=this._getResults(),this._classifyResults(this._results).then(this._annotateResults.bind(this))}},{key:"_getResults",value:function(){return this._getSearchResults()}},{key:"_getSearchResults",value:function(){var e=this,t=[];return document.querySelectorAll(this._resultSelector).forEach(function(n){try{t.push(e._getSearchResultFromCache(n)||e._getSearchResult(n))}catch(e){}}),t}},{key:"_getSearchResultFromCache",value:function(e){return this._results.find(function(t){return t.element===e})}},{key:"_getSearchResult",value:function(e){var t=e.querySelector(this._linkSelector),n=this._getSearchResultUrl(e,t);return new o(e,t,n)}},{key:"_getSearchResultUrl",value:function(e,t){return t.href}},{key:"_getBingAdDestination",value:function(e){var t=new URL(e.href).searchParams.get("u");return/^https?:\/\//.test(t)||(t="http://"+t),new URL(t),t}},{key:"_classifyResults",value:function(e){return new Promise(function(t){var n=e.filter(function(e){return!e.classified});if(0===n.length)return void t(e);var r=e.map(function(e){return e.url});u.publish("classifyUrls",{urls:r},function(r){n.forEach(function(e,t){e.setCategory(r[t])}),t(e)})})}},{key:"_annotateResults",value:function(e){var t=this;e.forEach(function(e){return t._annotator.annotateResult(e)})}},{key:"_initalizeObserver",value:function(){var e=this;if(this._observerTargetSelector){this._observer&&this._observer.disconnect();var t=document.querySelector(this._observerTargetSelector);if(t){var n=!1;this._observer=new MutationObserver(function(t){if(!n){t.some(function(t){return"childList"===t.type&&!e._isAnnotationMutation(t)})&&(n=!0,setTimeout(function(){n=!1,e._processPage()},e._ignoreMutationsInterval))}}),this._observer.observe(t,{childList:!0,subtree:!0})}}}},{key:"_isAnnotationMutation",value:function(e){try{return a.isSearchBlock(e.addedNodes[0].className)}catch(e){return!1}}}]),e}();t.exports=s},{"content/search/Annotator":24,"content/search/Result":25,"messenger/Content":4}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("content/search/engines/SearchEngine"),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._resultSelector="#searchResults li",e._linkSelector="a",e._observerTargetSelector="#searchResults",e}return o(t,e),a(t,null,[{key:"matches",value:function(e){return/^https?:\/\/suche\.web\.de\//.test(e)}}]),t}(u);t.exports=s},{"content/search/engines/SearchEngine":30}],32:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("content/search/engines/SearchEngine"),c=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._resultSelector="#main li, #right li",e._linkSelector="h3 a",e._observerTargetSelector="#web",e}return o(t,e),u(t,null,[{key:"matches",value:function(e){return/^https?:\/\/([\w-]+\.)*yahoo\.com\//.test(e)}}]),u(t,[{key:"_getSearchResultUrl",value:function(e,n){return n.classList.contains("td-u")?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getSearchResultUrl",this).call(this,e,n):this._getBingAdDestination(n)}}]),t}(s);t.exports=c},{"content/search/engines/SearchEngine":30}],33:[function(e,t,n){"use strict";var r=[e("content/search/engines/Ask"),e("content/search/engines/Bing"),e("content/search/engines/DuckDuckGo"),e("content/search/engines/Google"),e("content/search/engines/Yahoo"),e("content/search/engines/WebDe")],i=null;r.forEach(function(e){e.matches(window.location.href)&&(i=new e,i.initialize())})},{"content/search/engines/Ask":26,"content/search/engines/Bing":27,"content/search/engines/DuckDuckGo":28,"content/search/engines/Google":29,"content/search/engines/WebDe":31,"content/search/engines/Yahoo":32}],34:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"getStatus",value:function(){var e=void 0;switch(window.external.IsSearchProviderInstalled(window.location.href)){case 0:e="not registered";break;case 1:e="registered";break;case 2:e="registered and default";break;default:e="Unknown"}return e}}]),e}();t.exports=o},{}],35:[function(e,t,n){var r,i,o,a=function(e,t){return function(){return e.apply(t,arguments)}};o=e("content/messagingInterface"),i=e("modules/offers/content/Scraper"),r=function(){function e(){this._onScrapingLoaded=a(this._onScrapingLoaded,this)}return e.prototype._LOCATION_CHECK_INTERVAL=500,e.prototype._DELAY_BEFORE_RECHECK=1e3,e.prototype._JS_SCRIPT_ID="avira-offers-js-expressions",e.prototype.start=function(){return o.publish("AO:contentReady",{url:location.href},this._onScrapingLoaded)},e.prototype._onScrapingLoaded=function(e){if(e&&(this._scrapePage(e),e.rescrape))return this._addLocationListener(function(t){return function(){return t._scrapePage(e)}}(this))},e.prototype._addLocationListener=function(e){var t,n;return n=location.toString(),t=function(t){return function(){if(location.toString()!==n)return n=location.toString(),setTimeout(e,t._DELAY_BEFORE_RECHECK)}}(this),setInterval(t,this._LOCATION_CHECK_INTERVAL)},e.prototype._scrapePage=function(e){var t,n,r,a,u;return a=new i(document,e),u={url:location.href,data:null,js_data:a.scrapeJS(),xpath_data:a.scrapeXPath()},r=null,t=function(){return u.data=null,o.publish("AO:pageScraped",u)},n=function(e){var t;if(t=JSON.stringify(e),null===r||t!==r)return r=t,u.data=e,o.publish("AO:pageScraped",u)},a.scrapeCSL(n,t)},e.prototype._isEmptyObject=function(e){return!e||0===Object.keys(e).length},e}(),t.exports=r},{"content/messagingInterface":22,"modules/offers/content/Scraper":36}],36:[function(e,t,n){var r,i;i=e("ciuvo/ciuvo-addon-sdk.min"),r=function(){function e(e,t){var n,r;this.document=e,null==t&&(t={}),this.xpath=t.xpath_expressions,this.js_expressions=t.js_expressions,this.csl=t.csl,this.xpath_required=null!=(n=t.xpath_required)?n:[],this.js_required=null!=(r=t.js_required)?r:[]}return e.prototype._parseXPathResult=function(e){var t,n;if(n=null,1===e.resultType)n=e.numberValue.toString();else if(2===e.resultType)n=e.stringValue;else if(3===e.resultType)n=e.booleanValue.toString();else{if(!(t=e.iterateNext()))return!1;if(t.textContent)n=t.textContent;else if(t.innerText)n=t.innerText;else if(t.value)n=t.value;else{if(!t.text)return null;n=t.text}}return n},e.prototype.scrapeXPath=function(){var e,t,n,r,i;if(!this.xpath)return null;n={},t=this.xpath;for(e in t){r=t[e];try{i=this.document.evaluate(r,this.document,null,XPathResult.ANY_TYPE,null),n[e]=this._parseXPathResult(i)}catch(e){return e,null}}return this._containsKeys(n,this.xpath_required)?n:null},e.prototype.scrapeCSL=function(e,t){var n,r;try{return r=new i.Interpreter(window,e,t),r.interpret(this.csl)}catch(e){return n=e,t(n)}},e.prototype.scrapeJS=function(){var e,t,n,r,i,o,a;return this.js_expressions?(i=this.document.createElement("script"),e=this.document.head||this.document.body,t="offers-"+(0|9e6*Math.random()).toString(36),i.setAttribute("id",t),o=this._generateScriptContent(this.js_expressions,t),a=this.document.createTextNode(o),i.appendChild(a),e.appendChild(i),r=i.getAttribute("result"),e.removeChild(i),n=JSON.parse(r),this._containsKeys(n,this.js_required)?n:null):null},e.prototype._containsKeys=function(e,t){var n,r,i;for(n=0,i=t.length;n<i;n++)if(r=t[n],!e[r])return!1;return!0},e.prototype._generateScriptContent=function(e,t){var n,r,i;i="(function() {\n   var result = {};";for(r in e)n=e[r],i+='try {\n  result["'+r+'"] = '+n+";\n} catch (e) {\n}";return i+='  try {\n    document.querySelector("#'+t+"\").setAttribute('result', JSON.stringify(result));\n  } catch (e) {\n  }\n})();"},e}(),t.exports=r},{"ciuvo/ciuvo-addon-sdk.min":3}]},{},[21]);